{"version":3,"sources":["components/Lot/Lot.js","components/LotLoader/LotLoader.js","actions/index.js","constants/action-types.js","reducers/index.js","store/index.js","components/LotContainer/LotContainer.js","components/BlockHeader/BlockHeader.js","components/Article/Article.js","components/ArticleLoader/ArticleLoader.js","components/ArticleContainer/ArticleContainer.js","components/SearchFiltersNew/SearchFiltersNew.js","components/SearchBar/SearchBar.js","components/SearchBox/SearchBox.js","components/PastLotContainer/PastLotContainer.js","components/Auction/Auction.js","components/AuctionLoader/AuctionLoader.js","components/AuctionsContainer/AuctionsContainer.js","App.js","serviceWorker.js","index.js"],"names":["days","months","Lot","props","lot","ref","title","photo","currencySymbol","saleDate","estimate","estimateLow","lotNumber","bid","lotNumberExtension","priceResult","slug","replace","url","useState","isMobile","setIsMobile","useEffect","window","innerWidth","estimatePrice","className","href","target","rel","src","alt","width","height","dangerouslySetInnerHTML","__html","isPast","datetime","dateT","Date","getDay","getMonth","getDate","getFullYear","LotLoader","speed","viewBox","backgroundColor","foregroundColor","x","y","rx","ry","baseUrl","requestOptions","headers","orderParams","sorting","type","sort","split","lotFilter","params","searchText","selectedCategories","priceMin","priceMax","pageSize","page","qs","push","length","join","ord","auctionFilter","otherFilter","getLotsNew","a","payload","refresh","past","route","axios","get","response","items","data","count","usedCategories","used_categories","success","console","log","message","hasOwnProperty","getAuctionsNew","getOtherNew","updateTab","dispatch","currentTab","newParams","loadMore","tab","initData","initialState","availableCategories","lotsNew","lotsPast","auctionsNew","postsNew","dataChanged","lotsCount","pastLotsCount","auctionsCount","postsCount","activeTabCounter","lastLotFilters","categories","min","max","lastPastLotFilters","lastAuctionFilters","lastPostFilter","procNewData","state","changes","reduceRefreshedData","uniqueItemsObj","reduce","c","e","Object","values","rootReducer","action","assign","storeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","LotContainer","storeState","getState","loading","_isMounted","bind","this","lots","show","isLoading","i","key","map","item","Fragment","onClick","Component","connect","BlockHeader","Article","link","imgSrc","articleTitle","excerpt","ArticleLoader","ArticleContainer","news","detailsUrl","SearchFilters","categorySelected","categoryId","categoriesSaved","indexOf","toString","noResult","submited","isOpen","setCategory","pricemin","pricemax","search","handleOpenClose","handleSetMinMax","handleCheckboxChange","handleSubmitFilters","handleSortingSelect","difference","filter","includes","concat","history","pushState","newUrl","location","protocol","host","pathname","path","loadChanges","updateSorting","updateFiltersNew","_this","subscribe","stateChanges","noResults","setState","preventDefault","value","name","isNaN","newCategories","checked","idx","splice","updateUrlParams","currentSortOptions","label","icon","faArrowUp","faArrowDown","onChange","disabled","opt","placeholder","id","htmlFor","faArrowRight","SearchBar","handleSearchSubmit","query","updateSearch","showSearchFilters","document","getElementById","classList","add","loadingsAfterMount","searchFiltersActive","openTabs","delay","menu_btn","el","contains","remove","querySelector","style","display","addEventListener","toggleFilter","removeEventListener","color","timeout","faSearch","size","handleTabSelect","SearchBox","pastLots","Auction","date","time","toLocaleTimeString","addr","addrShow","city","AuctionLoader","AuctionsContainer","auctions","auctionId","permalink","App","parseUrl","applyChangesLoading","substr","result","forEach","part","decodeURIComponent","min_price","max_price","updateFromURL","lastFilters","filterChanges","keys","getFiltersFromUrlParams","event","callback","PastLotContainer","switchTabRenderer","Boolean","hostname","match","ReactDOM","render","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.c214ec66.chunk.js","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport FadeIn from 'react-fade-in';\nimport './Lot.css';\n\nconst days = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\nconst months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\n\nfunction getDate(datetime) {\n    const dateT = new Date(datetime);\n\n    return `${days[dateT.getDay()]}, ${months[dateT.getMonth()]} ${dateT.getDate()}, ${dateT.getFullYear()}`;\n}\n\nfunction Lot(props) {\n    const { ref, title, photo, currencySymbol, saleDate, estimate ,estimateLow,\n        lotNumber, bid, lotNumberExtension, priceResult } = props.lot;\n\n\n    let slug = title.replace(/ /g, \"-\");  // maybe need to change this place to api result\n    let url = `/auction-lot/${slug}_${ref}`; // maybe need to change this place to api result\n\n    const [isMobile, setIsMobile] = useState(false);\n    useEffect(() => {\n        if ( window.innerWidth < 576 ) {\n            setIsMobile(true);\n        } else {\n            setIsMobile(false);\n        }\n    }, []);\n\n    let estimatePrice = (((estimateLow || estimate) && currencySymbol) || '') + ' ' + ((estimateLow && estimate && `${estimateLow} - ${estimate}`) || estimateLow || estimate || '');\n\n    return (\n        <>\n            <div className=\"col-12 col-md-6 col-lg-3 pb-4 lot-container\">\n                <FadeIn>\n                    <a href={url} target=\"_blank\" rel=\"noopener noreferrer\">\n                        <figure className=\"text-center imgContainer\">\n                            {\n                                (photo) ? (\n                                    <img src={photo} alt=\"Text\" className=\"mw-100\" width=\"260\" height=\"250\" />\n                                ) :\n                                  <div className=\"emptyPhoto\">\n                                      {!isMobile ?\n                                          <img\n                                        src=\"https://johnmoran.invaluable.com/wp-content/themes/theme-johnmoran/dist/img/moran_grey.png\"\n                                        alt=\"LOGO\" className=\"mw-100\" width=\"260\"/> : ''}\n                                  </div>\n                            }\n                        </figure>\n                    </a>\n                    <aside className=\"search-lot--content py-4 px-4 text-left\">\n                        <a href={url} target=\"_blank\" rel=\"noopener noreferrer\">\n                            <h3 className=\"font-weight-normal text-grey title\" dangerouslySetInnerHTML={{__html: title}} />\n                        </a>\n                        {estimatePrice !== '' && <p className='m-0'>Estimate: {estimatePrice}</p>}\n                        {lotNumber && <p className='m-0'>Lot number: {lotNumber} {(props.isPast && lotNumberExtension) || ''}</p>}\n                        {(bid && <p className='m-0'>Bid: {bid}</p>) || ''}\n                        {(saleDate && <p className='m-0'>Sale date: {getDate(saleDate)}</p>) || ''}\n                        {/*this add in past fields */}\n                        {(props.isPast) && <p className='m-0'>Result price: {(priceResult && ((currencySymbol || '') + ' ' + priceResult)) || 'Unsold'}</p>}\n                    </aside>\n                </FadeIn>\n            </div>\n        </>\n    );\n\n}\n\nexport default Lot;\n","import React from \"react\"\nimport ContentLoader from \"react-content-loader\" \n\nconst LotLoader = () => (\n  <ContentLoader \n    speed={2}\n    width={400}\n    height={475}\n    viewBox=\"0 0 400 475\"\n    backgroundColor=\"#bdbdbd\"\n    foregroundColor=\"#dadcdd\"\n  >\n    <rect x=\"-149\" y=\"-167\" rx=\"2\" ry=\"2\" width=\"452\" height=\"452\" />\n  </ContentLoader>\n)\n\nexport default LotLoader\n","import {\r\n    // GET_CATEGORIES,\r\n    INIT_DATA,\r\n    LOAD_MORE, UPDATE_ALL_FROM_URL,\r\n    UPDATE_FILTERS_NEW,\r\n    UPDATE_SEARCH,\r\n    UPDATE_SORTING,\r\n    UPDATE_TAB\r\n} from \"../constants/action-types\";\r\nimport axios from \"axios\";\r\n\r\n\r\n// const baseUrl = 'https://johnmoran.hksndev2.co.uk/wp-json';\r\n// const baseUrl = 'https://johnmoranstage.invaluable.com/wp-json';\r\nconst baseUrl = 'http://hksndev2.co.uk/contemporary/wp-json';\r\n// const baseUrl = 'https://www.dzendzianandsons.com/wp-json';\r\n// const baseUrl = '/wp-json';\r\n\r\nconst requestOptions = {\r\n    headers: {\r\n        'id': 'V053C9yWvo45XsOxKB',\r\n        // 'id': 's2DUnuzU3TVfk44ZNp',\r\n    }\r\n};\r\n\r\nconst orderParams = (sorting = '', type = null) => {\r\n    if (sorting === '') {\r\n        if (!type) return '';\r\n\r\n        else {\r\n            switch (type) {\r\n                case 'upcoming': return 'sort_by=date&sort_order=asc';\r\n                case 'past': return 'sort_by=date&sort_order=desc';\r\n                case 'auctions': return 'sort_by=date&sort_order=asc';\r\n                case 'other': return 'sort_by=date&sort_order=desc';\r\n                default: return '';\r\n            }\r\n        }\r\n    }\r\n\r\n    const sort = sorting.split('||');\r\n    return `sort_by=${sort[0]}&sort_order=${sort[1]}`;\r\n};\r\n\r\nconst lotFilter = (params, isPast = false) => {\r\n    const { searchText = null, selectedCategories = [], priceMin = null, priceMax = null, pageSize = 20, page = 0, sorting = '' } = params;\r\n\r\n    const qs = [];\r\n    if (searchText) qs.push('keyword=' + searchText);\r\n    if (priceMin || priceMax) {\r\n        if (priceMin && !priceMax) {\r\n            qs.push('pricemin=' + priceMin);\r\n            qs.push('pricemax=99999');\r\n        } else if (!priceMin && priceMax) {\r\n            qs.push('pricemin=0');\r\n            qs.push('pricemax=' + priceMax);\r\n        } else {\r\n            qs.push('pricemin=' + priceMin);\r\n            qs.push('pricemax=' + priceMax);\r\n        }\r\n    }\r\n    if(selectedCategories.length > 0) qs.push('categories=' + selectedCategories.join(' '));\r\n    qs.push('size=' + pageSize);\r\n    qs.push('page=' + page);\r\n\r\n    const ord = orderParams(sorting, isPast ? 'past' : 'upcoming');\r\n\r\n    return qs.length > 0 ? '?' + qs.join('&') + (ord ? '&' + ord : '') : '';\r\n};\r\n\r\nconst auctionFilter = (params) => {\r\n    const { searchText = null, selectedCategories = [], pageSize = 20, page = 0, sorting = '' } = params;\r\n\r\n    const qs = [];\r\n    if (searchText) qs.push('keyword=' + searchText);\r\n    if(selectedCategories.length > 0) qs.push('categories=' + selectedCategories.join(' '));\r\n    qs.push('size=' + pageSize);\r\n    qs.push('page=' + page);\r\n\r\n    const ord = orderParams(sorting, 'auctions');\r\n\r\n    return qs.length > 0 ? '?' + qs.join('&') + (ord ? '&' + ord : '') : '';\r\n};\r\n\r\nconst otherFilter = (params) => {\r\n    const { searchText = null, selectedCategories = [], pageSize = 20, page = 0, sorting = '' } = params;\r\n\r\n    const qs = [];\r\n    if (searchText) qs.push('keyword=' + searchText);\r\n    if(selectedCategories.length > 0) qs.push('categories=' + selectedCategories.join(' '));\r\n    qs.push('size=' + pageSize);\r\n    qs.push('page=' + page);\r\n\r\n    const ord = orderParams(sorting, 'other');\r\n\r\n    return qs.length > 0 ? '?' + qs.join('&') + (ord ? '&' + ord : '') : '';\r\n};\r\n\r\nasync function getLotsNew(payload = null, refresh = false, past = false) {\r\n    let route = baseUrl + (past ? '/searchlots/inv/past' : '/searchlots/inv/upcoming') + ((payload && !refresh) ? lotFilter(payload, past) : `?${ ((payload && payload.searchText) ? `keyword=${payload.searchText}&`: '') + orderParams('', past ? 'past': 'upcoming')}`);\r\n    const params = payload ? { ...payload } : {};\r\n\r\n    try {\r\n        const response = await axios.get(route, requestOptions);\r\n\r\n        params.items = response.data.data;\r\n        params.count = response.data.count;\r\n        if (!past) params.usedCategories = response.data.used_categories;\r\n        params.success = true;\r\n    } catch (error) {\r\n        console.log('error: ', error);\r\n        params.success = false;\r\n        params.message = (typeof error === 'string') ? error : ((error.hasOwnProperty('response') && error.response)  ? error.response.data.message : '');\r\n    }\r\n\r\n    return params;\r\n}\r\n\r\nasync function getAuctionsNew(payload = null, refresh = false) {\r\n    let route = baseUrl + '/searchlots/inv/auctions' + ((payload && !refresh) ? auctionFilter(payload) : `?${ ((payload && payload.searchText) ? `keyword=${payload.searchText}&`: '') + orderParams('', 'auctions')}`);\r\n    const params = payload ? { ...payload } : {};\r\n\r\n    try {\r\n        const response = await axios.get(route, requestOptions);\r\n\r\n        params.items = response.data.data;\r\n        params.count = response.data.count;\r\n        params.usedCategories = response.data.used_categories;\r\n        params.success = true;\r\n    } catch (error) {\r\n        console.log(error);\r\n        params.success = false;\r\n        params.message = (typeof error === 'string') ? error : ((error.hasOwnProperty('response') && error.response)  ? error.response.data.message : '');\r\n    }\r\n\r\n    return params;\r\n}\r\n\r\nasync function getOtherNew(payload = null, refresh = false) {\r\n    let route = baseUrl + '/searchlots/inv/search' + ((payload && !refresh) ? otherFilter(payload) : `?${ ((payload && payload.searchText) ? `keyword=${payload.searchText}&`: '') + orderParams('', 'other')}`);\r\n\r\n    const params = payload ? { ...payload } : {};\r\n\r\n    try {\r\n        const response = await axios.get(route, requestOptions);\r\n\r\n        params.items = response.data.data;\r\n        params.count = response.data.count;\r\n        params.usedCategories = response.data.used_categories;\r\n        params.success = true;\r\n\r\n\r\n    } catch (error) {\r\n        console.log(error);\r\n        params.success = false;\r\n        params.message = (typeof error === 'string') ? error : ((error.hasOwnProperty('response') && error.response)  ? error.response.data.message : '');\r\n    }\r\n\r\n    return params;\r\n}\r\n\r\n\r\n\r\nexport function updateFromURL(payload = null) {\r\n    return async (dispatch) => {\r\n        const { currentTab = 'upcoming' } = payload;\r\n\r\n        let newParams = null;\r\n\r\n        switch (currentTab) {\r\n            case 'upcoming': newParams = await getLotsNew(payload); break;\r\n            case 'past': newParams = await getLotsNew(payload, false, true); break;\r\n            case 'auctions': newParams = await getAuctionsNew(payload); break;\r\n            case 'other': newParams = await getOtherNew(payload); break;\r\n        }\r\n\r\n        return dispatch({type: UPDATE_ALL_FROM_URL, payload: newParams});\r\n    }\r\n}\r\n\r\nexport function updateTab(payload = {}) {\r\n    return async (dispatch) => {\r\n        const { currentTab = 'upcoming' } = payload;\r\n\r\n        let newParams = null;\r\n\r\n        switch (currentTab) {\r\n            case 'upcoming': newParams = await getLotsNew(payload); break;\r\n            case 'past': newParams = await getLotsNew(payload, false, true); break;\r\n            case 'auctions': newParams = await getAuctionsNew(payload); break;\r\n            case 'other': newParams = await getOtherNew(payload); break;\r\n        }\r\n\r\n        return dispatch({type: UPDATE_TAB, payload: newParams});\r\n    }\r\n}\r\n\r\nexport function updateFiltersNew(payload = {}, tab = 'upcoming') {\r\n    return async (dispatch) => {\r\n        let newParams = null;\r\n\r\n        switch (tab) {\r\n            case 'upcoming': newParams = await getLotsNew(payload); break;\r\n            case 'past': newParams = await getLotsNew(payload, false, true); break;\r\n            case 'auctions': newParams = await getAuctionsNew(payload); break;\r\n            case 'other': newParams = await getOtherNew(payload); break;\r\n        }\r\n\r\n        return dispatch({type: UPDATE_FILTERS_NEW, payload: newParams});\r\n    };\r\n}\r\n\r\nexport function updateSorting(payload = null) {\r\n    return async (dispatch) => {\r\n        const { currentTab = 'upcoming' } = payload;\r\n\r\n        let newParams = null;\r\n\r\n        switch (currentTab) {\r\n            case 'upcoming': newParams = await getLotsNew(payload); break;\r\n            case 'past': newParams = await getLotsNew(payload, false, true); break;\r\n            case 'auctions': newParams = await getAuctionsNew(payload); break;\r\n            case 'other': newParams = await getOtherNew(payload); break;\r\n        }\r\n\r\n        return dispatch({type: UPDATE_SORTING, payload: newParams});\r\n    };\r\n}\r\n\r\nexport function updateSearch(payload = null) {\r\n    return async (dispatch) => {\r\n        const { currentTab = 'upcoming' } = payload;\r\n\r\n        let newParams = null;\r\n\r\n        switch (currentTab) {\r\n            case 'upcoming': newParams = await getLotsNew(payload); break;\r\n            case 'past': newParams = await getLotsNew(payload, false, true); break;\r\n            case 'auctions': newParams = await getAuctionsNew(payload); break;\r\n            case 'other': newParams = await getOtherNew(payload); break;\r\n        }\r\n\r\n        return dispatch({type: UPDATE_SEARCH, payload: newParams});\r\n    };\r\n}\r\n\r\nexport function loadMore(payload = null, tab = 'upcoming') {\r\n    return async (dispatch) => {\r\n        let newParams = null;\r\n\r\n        if (payload.page === 0) ++payload.page;\r\n\r\n        switch (tab) {\r\n            case 'upcoming': newParams = await getLotsNew(payload); break;\r\n            case 'past': newParams = await getLotsNew(payload, false, true); break;\r\n            case 'auctions': newParams = await getAuctionsNew(payload); break;\r\n            case 'other': newParams = await getOtherNew(payload); break;\r\n        }\r\n\r\n        return dispatch({type: LOAD_MORE, payload: newParams});\r\n    };\r\n}\r\n\r\nexport function initData() {\r\n    return async (dispatch) => {\r\n        let newParams = await getLotsNew({});\r\n\r\n        return dispatch({type: INIT_DATA, payload: newParams});\r\n    };\r\n}","export const INIT_DATA = \"INIT_DATA\";\r\n// export const GET_CATEGORIES = \"GET_CATEGORIES\";\r\nexport const UPDATE_TAB = \"UPDATE_TAB\";\r\nexport const UPDATE_FILTERS_NEW = \"UPDATE_FILTERS_NEW\";\r\nexport const UPDATE_SORTING = \"UPDATE_SORTING\";\r\nexport const UPDATE_SEARCH = \"UPDATE_SEARCH\";\r\nexport const LOAD_MORE = \"LOAD_MORE\";\r\nexport const UPDATE_ALL_FROM_URL = \"UPDATE_ALL_FROM_URL\";","import {\r\n    INIT_DATA,\r\n    LOAD_MORE,\r\n    UPDATE_ALL_FROM_URL,\r\n    UPDATE_FILTERS_NEW,\r\n    UPDATE_SEARCH,\r\n    UPDATE_SORTING,\r\n    UPDATE_TAB\r\n} from \"../constants/action-types\";\r\n\r\nconst initialState = {\r\n    availableCategories: [],\r\n    // FOR NEW VERSION !!!\r\n    lotsNew: [],\r\n    lotsPast: [],\r\n    auctionsNew: [],\r\n    postsNew: [],\r\n    page: 0,\r\n    dataChanged: false,\r\n\r\n    message: '',\r\n    searchText: '',\r\n    currentTab: 'upcoming',\r\n    selectedCategories: [],\r\n    priceMin: '',\r\n    priceMax: '',\r\n    sorting: '',\r\n    lotsCount: 0,\r\n    pastLotsCount: 0,\r\n    auctionsCount: 0,\r\n    postsCount: 0,\r\n    activeTabCounter: 0,\r\n\r\n    // last filters\r\n    lastLotFilters: {\r\n        categories: [],\r\n        min: '',\r\n        max: '',\r\n    },\r\n    lastPastLotFilters: {\r\n        min: '',\r\n        max: '',\r\n    },\r\n    lastAuctionFilters: {\r\n        categories: [],\r\n    },\r\n    lastPostFilter: {\r\n        categories: [],\r\n    }\r\n};\r\n\r\nconst reduceRefreshedData = (changes = {}, payload) => {\r\n    const { items = [], count = 0, success = false, pageSize = 20, message = null } = payload;\r\n\r\n    if (!success || items.length < pageSize) changes.page = -1;\r\n\r\n    if (success) {\r\n        changes.items = items;\r\n        changes.activeTabCounter = count;\r\n    } else {\r\n        changes.items = [];\r\n        changes.activeTabCounter = 0;\r\n\r\n        if (message) changes.message = message;\r\n    }\r\n\r\n    return changes;\r\n};\r\n\r\nfunction rootReducer(state = initialState, action) {\r\n    switch (action.type) {\r\n        case INIT_DATA: {\r\n            const { currentTab = 'upcoming' } = state;\r\n\r\n            let changes = procNewData(currentTab, state, {}, action.payload);\r\n\r\n            if (currentTab !== state.currentTab) {\r\n                changes.searchText = '';\r\n                changes.selectedCategories= [];\r\n                changes.priceMin= '';\r\n                changes.priceMax= '';\r\n            }\r\n\r\n            return Object.assign({}, state, changes);\r\n        }\r\n        case UPDATE_TAB: {\r\n            const { currentTab = 'upcoming', selectedCategories = [], priceMin = '', priceMax = '' } = action.payload;\r\n\r\n            let changes = procNewData(currentTab, state, {page: 0, currentTab: currentTab}, action.payload);\r\n\r\n            if (currentTab !== state.currentTab) {\r\n                // changes.searchText = '';\r\n                changes.selectedCategories = selectedCategories;\r\n                changes.priceMin = priceMin;\r\n                changes.priceMax = priceMax;\r\n                changes.sorting = '';\r\n            }\r\n\r\n            return Object.assign({}, state, changes);\r\n        }\r\n        case UPDATE_FILTERS_NEW: {\r\n            const { currentTab = 'upcoming' } = state;\r\n\r\n            let changes = procNewData(currentTab, state, {page: 0}, action.payload);\r\n\r\n            return Object.assign({}, state, changes);\r\n        }\r\n        case UPDATE_SORTING: {\r\n            const { currentTab = 'upcoming' } = state;\r\n\r\n            let changes = procNewData(currentTab, state, {page: 0, sorting: action.payload.sorting}, action.payload);\r\n\r\n            return Object.assign({}, state, changes);\r\n        }\r\n        case UPDATE_SEARCH: {\r\n            const { currentTab = 'upcoming' } = state;\r\n\r\n            let changes = procNewData(currentTab, state, {page: 0, searchText: action.payload.searchText}, action.payload);\r\n\r\n            return Object.assign({}, state, changes);\r\n        }\r\n        case LOAD_MORE: {\r\n            let changes = {\r\n                page: state.page + 1\r\n            };\r\n\r\n            const { items = [], success = false, pageSize = 20, message = null, currentTab = 'upcoming' } = action.payload;\r\n\r\n            if (!success || items.length < pageSize) changes.page = -1;\r\n\r\n            if (success) {\r\n                switch (currentTab) {\r\n                    case 'upcoming': {\r\n                        changes.lotsNew = (state.lotsNew && state.lotsNew.length > 0) ? [...state.lotsNew, ...items] : items;\r\n\r\n                        let uniqueItemsObj = changes.lotsNew.reduce( (c, e) => {\r\n                            if (!c[e.ref]) c[e.ref] = e;\r\n                            return c;\r\n                        }, {});\r\n\r\n                        changes.lotsNew = uniqueItemsObj ? Object.values(uniqueItemsObj) : [];\r\n                    } break;\r\n                    case 'past': {\r\n                        changes.lotsPast = (state.lotsPast && state.lotsPast.length > 0) ? [...state.lotsPast, ...items] : items;\r\n\r\n                        let uniqueItemsObj = changes.lotsPast.reduce( (c, e) => {\r\n                            if (!c[e.ref]) c[e.ref] = e;\r\n                            return c;\r\n                        }, {});\r\n\r\n                        changes.lotsPast = uniqueItemsObj ? Object.values(uniqueItemsObj) : [];\r\n                    } break;\r\n                    case 'auctions': changes.auctionsNew = (state.auctionsNew && state.auctionsNew.length > 0) ? [...state.auctionsNew, ...items] : items; break;\r\n                    case 'other': changes.postsNew = (state.postsNew && state.postsNew.length > 0) ? [...state.postsNew, ...items] : items; break;\r\n                }\r\n                delete changes.items;\r\n            } else {\r\n                switch (currentTab) {\r\n                    case 'upcoming': {\r\n                        changes.lotsNew = (state.lotsNew && state.lotsNew.length > 0) ? state.lotsNew: [];\r\n                        if (changes.lotsNew.length === 0 && message) changes.message = message;\r\n                        break;\r\n                    }\r\n                    case 'past': {\r\n                        changes.lotsPast = (state.lotsPast && state.lotsPast.length > 0) ? state.lotsPast: [];\r\n                        if (changes.lotsPast.length === 0 && message) changes.message = message;\r\n                        break;\r\n                    }\r\n                    case 'auctions': {\r\n                        changes.auctionsNew = (state.auctionsNew && state.auctionsNew.length > 0) ? state.auctionsNew: [];\r\n                        if (changes.auctionsNew.length === 0 && message) changes.message = message;\r\n                        break;\r\n                    }\r\n                    case 'other': {\r\n                        changes.postsNew = (state.postsNew && state.postsNew.length > 0) ? state.postsNew: [];\r\n                        if (changes.postsNew.length === 0 && message) changes.message = message;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n\r\n            return Object.assign({}, state, changes);\r\n        }\r\n        case UPDATE_ALL_FROM_URL: {\r\n            const { currentTab = 'upcoming' } = action.payload;\r\n\r\n            let changes = procNewData(currentTab, state, {page: 0}, action.payload);\r\n\r\n            return Object.assign({}, state, action.payload, changes);\r\n        }\r\n        default: {\r\n            return state;\r\n        }\r\n    }\r\n}\r\n\r\nconst procNewData = (currentTab, state, changes, payload) => {\r\n    changes = reduceRefreshedData(changes, payload);\r\n\r\n    const { selectedCategories = [], priceMin = '', priceMax = '' } = payload;\r\n\r\n    changes.availableCategories = state.availableCategories;\r\n\r\n    if (currentTab === 'upcoming' || currentTab === 'past') {\r\n        if (currentTab === 'upcoming' && payload.usedCategories) {\r\n            changes.availableCategories = payload.usedCategories;\r\n        }\r\n\r\n        let uniqueItemsObj = null;\r\n        if (changes.items.length > 0) {\r\n            uniqueItemsObj = changes.items.reduce( (c, e) => {\r\n                if (!c[e.ref]) c[e.ref] = e;\r\n                return c;\r\n            }, {});\r\n        }\r\n\r\n        if (currentTab === 'upcoming') {\r\n            changes.lotsNew = uniqueItemsObj ? Object.values(uniqueItemsObj) : [];\r\n            changes.lotsCount = changes.activeTabCounter;\r\n\r\n            changes.lotsPast = [];\r\n            changes.auctionsNew = [];\r\n            changes.postsNew = [];\r\n\r\n\r\n            changes.selectedCategories = selectedCategories;\r\n            changes.priceMin = priceMin;\r\n            changes.priceMax = priceMax;\r\n\r\n            changes.lastLotFilters = {\r\n                categories: selectedCategories,\r\n                min: priceMin,\r\n                max: priceMax,\r\n            };\r\n        } else {\r\n            changes.lotsPast = uniqueItemsObj ? Object.values(uniqueItemsObj) : [];\r\n            changes.pastLotsCount = changes.activeTabCounter;\r\n\r\n            changes.lotsNew = [];\r\n            changes.auctionsNew = [];\r\n            changes.postsNew = [];\r\n\r\n            changes.lastPastLotFilters = {\r\n                min: priceMin,\r\n                max: priceMax,\r\n            };\r\n        }\r\n    } else if (currentTab === 'auctions') {\r\n        if (payload.usedCategories) {\r\n            changes.availableCategories = payload.usedCategories;\r\n        }\r\n\r\n        let uniqueItemsObj = null;\r\n        if (changes.items.length) {\r\n            uniqueItemsObj = changes.items.reduce( (c, e) => {\r\n                if (!c[e.title]) c[e.title] = e;\r\n                return c;\r\n            }, {});\r\n        }\r\n        changes.auctionsNew = uniqueItemsObj ? Object.values(uniqueItemsObj) : [];\r\n        changes.auctionsCount = changes.activeTabCounter;\r\n\r\n        changes.lotsNew = [];\r\n        changes.lotsPast = [];\r\n        changes.postsNew = [];\r\n\r\n        changes.lastAuctionFilters = {\r\n            categories: selectedCategories,\r\n        };\r\n    } else {\r\n        if (payload.usedCategories) {\r\n            changes.availableCategories = payload.usedCategories;\r\n        }\r\n\r\n        changes.postsNew = [];\r\n        if (changes.items.length) {\r\n            changes.postsNew = changes.items;\r\n        }\r\n        changes.postsCount = changes.activeTabCounter;\r\n\r\n        changes.lotsNew = [];\r\n        changes.lotsPast = [];\r\n        changes.auctionsNew = [];\r\n\r\n        changes.lastPostFilter = {\r\n            categories: selectedCategories,\r\n        }\r\n    }\r\n\r\n    return changes;\r\n};\r\n\r\nexport default rootReducer;","import {applyMiddleware, compose, createStore} from \"redux\";\r\nimport rootReducer from \"../reducers/index\";\r\nimport thunk from \"redux-thunk\";\r\n\r\nconst storeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst store = createStore(\r\n    rootReducer,\r\n    storeEnhancers(applyMiddleware(thunk))\r\n);\r\n\r\nexport default store;\r\n","import React, { Component } from 'react';\n\nimport Lot from '../Lot/Lot';\nimport LotLoader from '../LotLoader/LotLoader';\nimport {connect} from \"react-redux\";\nimport {loadMore} from '../../actions/index';\nimport store from \"../../store\";\n\nclass LotContainer extends Component {\n\n    constructor(props) {\n        super(props);\n\n        const storeState = store.getState();\n\n        this.state = {\n            loading: true,\n            page: 0,\n            // for detecting changes !!!\n            searchText: storeState.searchText || '',\n            selectedCategories: storeState.selectedCategories || [],\n            priceMin: storeState.priceMin || '',\n            priceMax: storeState.priceMax || '',\n            sorting: storeState.sorting || '',\n        };\n        this._isMounted = false;\n\n        this.loadMore = this.loadMore.bind(this);\n    }\n\n    componentDidMount() {\n        this._isMounted = true;\n    }\n\n    componentWillUnmount() {\n        this._isMounted = false;\n    }\n\n    loadMore(e) {\n        const storeState = store.getState();\n        this.props.loadMore(storeState, storeState.currentTab);\n    }\n\n    render() {\n        let lots = [];\n\n        let show = true;\n\n        if ( this.props.isLoading ) {\n            for (let i = 0; i < 4; i++) {\n                lots.push(<LotLoader key={i}/>);\n            }\n        }\n\n        // restore this when api is ready to work maybe\n        if ( this.props.lots.length && !this.props.isLoading )\n        {\n            lots = this.props.lots.map(item =>\n                <React.Fragment key={'lot_' + item.ref} >\n                    {\n                        <Lot\n                            lot={item}\n                            isPast={false}\n                        />\n                    }\n                </React.Fragment>\n            );\n\n        } else {\n            if ( !this.props.isLoading ) {\n                if(this.props.message){\n                    show = false;\n                }\n            }\n        }\n\n\n        return show ? (\n            <div className=\"px-0 py-1 px-md-4\">\n                {/*<BlockHeader title=\"Upcoming Lots\" />*/}\n\n                <div className=\"row row-spacing\">\n                    {lots}\n                </div>\n\n                {\n                    (this.props.lots.length && this.props.page !== -1) ? (\n                        <div className=\"col-12 text-center\">\n                            {/*change click function to load needed type of lots*/}\n                            <button className=\"btn btn-load-more mt-3 mb-5\" onClick={this.loadMore}>Load More</button>\n                        </div>\n                    ) : ''\n                }\n            </div>\n        ) : '';\n\n    }\n\n}\n\nfunction mapStateToProps(state) {\n    return {\n        lots: state.lotsNew || [],\n        message: state.message,\n        page: state.page,\n    };\n}\n\nexport default connect(\n    mapStateToProps,\n    { loadMore }\n)(LotContainer);","import React from 'react';\n\nfunction BlockHeader(props) {\n\n    return (\n        <>\n            <div className=\"row\">\n                <div className=\"col-12\">\n                    <header className=\"mb-2\">\n                        <h2 className=\"subheading text-uppercase\">{ props.title }</h2>\n                    </header>\n                </div>\n            </div>\n        </>\n    );\n\n}\n\nexport default BlockHeader;","import React, {useEffect, useState} from 'react';\n\nimport './Article.css';\nimport FadeIn from \"react-fade-in\";\n\nfunction Article(props) {\n\n    // TODO excerpt !!!\n  const [isMobile, setIsMobile] = useState(false);\n  useEffect(() => {\n    if ( window.innerWidth < 576 ) {\n      setIsMobile(true);\n    } else {\n      setIsMobile(false);\n    }\n  }, []);\n\n    return (\n        <>\n          <div className=\"col-12 col-md-6 col-lg-3 pb-4 search-auction-result anim-search-result lot-container\">\n            <FadeIn>\n              <a href={props.link} target=\"_blank\" rel=\"noopener noreferrer\">\n                <figure className=\"text-center imgContainer\">\n                  {\n                    (props.imgSrc) ? (\n                        <img src={props.imgSrc} alt=\"Text\" className=\"mw-100\" width=\"260\" height=\"250\" />\n                      ) :\n                      <div className=\"emptyPhoto\">\n                        {!isMobile ?\n                          <img\n                            src=\"https://johnmoran.invaluable.com/wp-content/themes/theme-johnmoran/dist/img/moran_grey.png\"\n                            alt=\"LOGO\" className=\"mw-100\" width=\"260\"/> : ''}\n                      </div>\n                  }\n                </figure>\n              </a>\n              <aside className=\"search-lot--content py-4 px-4 text-left\">\n                <a href={props.link} target=\"_blank\" rel=\"noopener noreferrer\">\n                  <h3 className=\"font-weight-normal text-grey title\" dangerouslySetInnerHTML={{__html: props.articleTitle}} />\n                </a>\n                {props.excerpt !== '' && <p className='m-0' dangerouslySetInnerHTML={{__html: `Excerpt: ${props.excerpt}`}} />}\n              </aside>\n            </FadeIn>\n          </div>\n        </>\n    );\n\n}\n\nexport default Article;\n\n// <div className=\"col-12 col-md-6 col-lg-4 grid-item search-article-result anim-search-result\">\n//   <aside className=\"favourite d-flex flex-1 mb-3 bg-white position-relative align-items-center\">\n//     {\n//       (props.imgSrc) ? (\n//         <figure>\n//           <img src={props.imgSrc} alt=\"Event\" width=\"150\" height=\"150\" />\n//         </figure>\n//       ) : ''\n//     }\n//     <div className=\"favourite-content p-3 flex-1\">\n//       <h3 className=\"font-weight-bold\"><a href={props.link} className=\"link-overlay\">{props.articleTitle}</a></h3>\n//       {props.excerpt && <p>excerpt: {props.excerpt}</p>}\n//     </div>\n//   </aside>\n// </div>\n","import React from \"react\"\n\nconst ArticleLoader = () => (\n    <div className=\"col-12 col-md-6 col-lg-4 grid-item search-article-result\">\n        <div className=\"ui-placeholder__auctions-wrap\">\n            <div className=\"ui fluid placeholder\">\n                <div className=\"image header\">\n                    <div className=\"line\" />\n                    <div className=\"line\" />\n                </div>\n                <div className=\"paragraph\">\n                    <div className=\"line\" />\n                    <div className=\"line\" />\n                    <div className=\"line\" />\n                </div>\n            </div>\n        </div>\n    </div>\n);\n\nexport default ArticleLoader;\n","import React, {Component} from 'react';\n\nimport BlockHeader from '../BlockHeader/BlockHeader';\nimport Article from '../Article/Article';\nimport store from \"../../store\";\nimport {loadMore} from \"../../actions\";\nimport {connect} from \"react-redux\";\nimport ArticleLoader from \"../ArticleLoader/ArticleLoader\";\n\nclass ArticleContainer extends Component {\n    constructor(props) {\n        super(props);\n\n        const storeState = store.getState();\n\n        this.state = {\n            loading: true,\n            page: 0,\n            // for detecting changes !!!\n            searchText: storeState.searchText || '',\n            selectedCategories: storeState.selectedCategories || [],\n            sorting: storeState.sorting || '',\n        };\n        this._isMounted = false;\n\n        this.loadMore = this.loadMore.bind(this);\n    }\n\n    componentDidMount() {\n        this._isMounted = true;\n    }\n\n    componentWillUnmount() {\n        this._isMounted = false;\n    }\n\n    loadMore(e) {\n        const storeState = store.getState();\n        this.props.loadMore(storeState, storeState.currentTab);\n    }\n\n    render() {\n        let news = [];\n\n        let show = true;\n\n        if ( this.props.isLoading ) {\n            for (let i = 0; i < 4; i++) {\n                news.push(<ArticleLoader key={'news_' + i} />);\n            }\n        }\n\n        if ( this.props.news.length && !this.props.isLoading )\n        {\n            news = this.props.news.map((item, key)=>\n                <Article\n                    key={'article_' + key}\n                    link={item.detailsUrl}\n                    excerpt={item.excerpt}\n                    articleTitle={item.title}\n                    imgSrc={item.photo}\n                />\n            );\n\n        } else {\n            if ( !this.props.isLoading ) {\n                if(this.props.message){\n                    show = false;\n                }\n            }\n        }\n\n\n        return show ? (\n            <div>\n                <BlockHeader title=\"Articles > Other\" />\n\n                <div className=\"row row-spacing\">\n                    {news}\n                </div>\n\n                {\n                    (this.props.news.length && this.props.page !== -1) ? (\n                        <div className=\"col-12 text-center\">\n                            <button className=\"btn btn-load-more mt-3 mb-5\" onClick={this.loadMore}>Load More</button>\n                        </div>\n                    ) : ''\n                }\n            </div>\n        ) : '';\n    }\n\n}\n\nfunction mapStateToProps(state) {\n    return {\n        news: state.postsNew || [],\n        message: state.message,\n        page: state.page,\n    };\n}\n\nexport default connect(\n    mapStateToProps,\n    { loadMore }\n)(ArticleContainer);","import React, { Component } from 'react';\r\nimport './SearchFiltersNew.css';\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faArrowUp, faArrowDown, faArrowRight } from '@fortawesome/free-solid-svg-icons';\r\n\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n  /*getCategories,*/ updateFiltersNew, updateSorting\r\n} from \"../../actions\";\r\nimport store from \"../../store\";\r\n\r\nclass SearchFilters extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const storeState = store.getState();\r\n\r\n    this.state = {\r\n      noResult: true,\r\n      availableCategories: storeState.availableCategories,\r\n      submited: storeState.loading || true,\r\n      isOpen: false, // work\r\n      isMobile: false, // work\r\n      setCategory: [], // work\r\n\r\n      pricemin: storeState.priceMin || '',\r\n      pricemax: storeState.priceMax || '',\r\n      categoriesSaved: storeState.selectedCategories || [],\r\n\r\n      currentTab: storeState.currentTab || 'upcoming',\r\n      sorting: storeState.sorting || '',\r\n      search: storeState.searchText || '',\r\n    };\r\n    this._isMounted = false;\r\n\r\n    this.handleOpenClose = this.handleOpenClose.bind(this);\r\n    this.handleSetMinMax = this.handleSetMinMax.bind(this);\r\n    this.handleCheckboxChange = this.handleCheckboxChange.bind(this);\r\n    this.handleSubmitFilters = this.handleSubmitFilters.bind(this);\r\n    this.handleSortingSelect = this.handleSortingSelect.bind(this);\r\n  }\r\n\r\n  updateUrlParams() {\r\n    const { search = '', currentTab, setCategory = [], pricemin = null, pricemax = null, sorting = null } = this.state;\r\n\r\n    const storeState = store.getState();\r\n\r\n    const difference = storeState.selectedCategories\r\n      .filter(x => !this.state.setCategory.includes(x))\r\n      .concat(this.state.setCategory.filter(x => !storeState.selectedCategories.includes(x)));\r\n\r\n    if (\r\n        storeState.currentTab !== currentTab ||\r\n        storeState.sorting !== sorting ||\r\n        difference.length > 0 ||\r\n        storeState.priceMin !== pricemin ||\r\n        storeState.priceMax !== pricemax\r\n    ) {\r\n      const params = [];\r\n\r\n      if (window.history.pushState) {\r\n        let newUrl = window.location.protocol + \"//\" + window.location.host + window.location.pathname;\r\n\r\n        if (currentTab) params.push('tab=' + currentTab);\r\n        if (search) params.push('search=' + search);\r\n\r\n        if (setCategory.length) {\r\n          params.push('categories=' + setCategory.join(','));\r\n        }\r\n\r\n        if (pricemin) params.push('min_price=' + pricemin);\r\n        if (pricemax) params.push('max_price=' + pricemax);\r\n        if (sorting) params.push('sort=' + sorting);\r\n\r\n        if (params.length) {\r\n          newUrl += '?' + params.join('&');\r\n        }\r\n\r\n        window.history.pushState({path:newUrl},'',newUrl);\r\n\r\n        this.props.loadChanges(() => {\r\n          if (this._isMounted) {\r\n            const storeState = store.getState();\r\n\r\n            if (sorting !== storeState.sorting) {\r\n              store.dispatch(updateSorting(Object.assign(storeState, {sorting: sorting})));\r\n            } else {\r\n              store.dispatch(updateFiltersNew(Object.assign(storeState, {\r\n                selectedCategories: setCategory,\r\n                priceMin: pricemin || '',\r\n                priceMax: pricemax || '',\r\n              }), currentTab));\r\n            }\r\n          }\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this._isMounted = true;\r\n    // this.props.getCategories();\r\n\r\n    const _this = this;\r\n\r\n    store.subscribe(() => {\r\n      const { availableCategories, loading, currentTab, selectedCategories, priceMin, priceMax, sorting, searchText, lotsCount, pastLotsCount, auctionsCount, postsCount } = store.getState();\r\n\r\n      const stateChanges = {\r\n        currentTab: currentTab,\r\n        search: searchText,\r\n        availableCategories: availableCategories,\r\n        categoriesSaved: selectedCategories,\r\n        setCategory: selectedCategories,\r\n        pricemin: priceMin,\r\n        pricemax: priceMax,\r\n        sorting: sorting,\r\n        noResults: (!loading &&\r\n          (\r\n            (currentTab === 'upcoming' && lotsCount === 0) ||\r\n            (currentTab === 'past' && pastLotsCount === 0) ||\r\n            (currentTab === 'auctions' && auctionsCount === 0) ||\r\n            (currentTab === 'other' && postsCount === 0)\r\n          )\r\n        ) || loading,\r\n        // ) || (loading && this.state.currentTab !== currentTab),\r\n      };\r\n\r\n      stateChanges.submited = (!loading && _this.state.submited) ? false : loading;\r\n\r\n      if (this._isMounted) this.setState(stateChanges);\r\n    });\r\n\r\n    if (this._isMounted) {\r\n      if ( window.innerWidth < 576 ) {\r\n        this.setState({isMobile: true});\r\n      } else {\r\n        this.setState({isMobile: false});\r\n      }\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n      this._isMounted = false;\r\n  }\r\n\r\n  categorySelected = categoryId => (this.state.categoriesSaved.indexOf(categoryId.toString()) !== -1);\r\n\r\n  handleOpenClose (e) {\r\n    e.preventDefault();\r\n\r\n    if (this._isMounted) this.setState({isOpen: !this.state.isOpen});\r\n  }\r\n\r\n  handleSetMinMax ({target:{value, name}}) {\r\n    if ( !isNaN(value) && this._isMounted ) {\r\n      this.setState({[name]: value})\r\n    }\r\n  }\r\n\r\n  handleCheckboxChange ({target}) {\r\n    if (this._isMounted) {\r\n      const {setCategory} = this.state;\r\n\r\n      const newCategories = [...setCategory];\r\n      if (target.checked) {\r\n        newCategories.push(target.value.toString());\r\n      } else {\r\n        const idx = setCategory.indexOf(target.value.toString());\r\n\r\n        if (idx !== -1) {\r\n          newCategories.splice(idx, 1);\r\n        }\r\n      }\r\n\r\n      this.setState({setCategory: newCategories, categoriesSaved: newCategories})\r\n    }\r\n  }\r\n\r\n  handleSubmitFilters (e) {\r\n    e.preventDefault();\r\n\r\n    if (this._isMounted) this.updateUrlParams();\r\n  }\r\n\r\n  handleSortingSelect (e) {\r\n    this.setState({sorting: e.target.value}, () => {\r\n      if (this._isMounted)  this.updateUrlParams()\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { noResults, availableCategories, currentTab, pricemin, pricemax, sorting, isOpen, /*isMobile*/ } = this.state;\r\n\r\n    const sortOptions = {\r\n      'upcoming': [\r\n        {\r\n          label: 'Next Sale Date',\r\n          value: 'date||asc'\r\n        },\r\n        {\r\n          label: 'Estimate - Low to High',\r\n          value: 'price||asc'\r\n        },\r\n        {\r\n          label: 'Estimate - High to Low',\r\n          value: 'price||desc'\r\n        }\r\n      ],\r\n      'past': [\r\n        {\r\n          label: 'Past Sale Date',\r\n          value: 'date||desc'\r\n        },\r\n        {\r\n          label: 'Sold Price - Low to High',\r\n          value: 'price||asc'\r\n        },\r\n        {\r\n          label: 'Sold Price - High to Low',\r\n          value: 'price||desc'\r\n        }\r\n      ],\r\n      'auctions': [\r\n        {\r\n          label: 'Date',\r\n          value: 'date||asc'\r\n        },\r\n        {\r\n          label: 'Title',\r\n          value: 'title||asc'\r\n        },\r\n      ],\r\n      'other': [\r\n        {\r\n          label: 'Recent',\r\n          value: 'date||desc'\r\n        },\r\n        {\r\n          label: 'Title',\r\n          value: 'title||asc'\r\n        },\r\n      ],\r\n    };\r\n\r\n    const currentSortOptions = sortOptions[currentTab];\r\n\r\n    return (\r\n        <>\r\n            <div className=\"pt-4 search-filter\">\r\n                <div className=\"d-flex justify-content-center justify-content-sm-between align-items-end\">\r\n                    <button className=\"py-2 px-4 text-uppercase font-weight-extra-bold\" onClick={this.handleOpenClose}>Filter <FontAwesomeIcon className=\"ml-3\" icon={isOpen ? faArrowUp : faArrowDown}/></button>\r\n                    {\r\n                        // !isMobile ?\r\n                            (<select onChange={this.handleSortingSelect} value={sorting}>\r\n                                <option value=\"\" disabled>Sort by</option>\r\n                                {\r\n                                    currentSortOptions.map(opt => (\r\n                                        <option key={opt.value} value={opt.value}>{opt.label}</option>\r\n                                    ))\r\n                                }\r\n                            </select>)\r\n                            // : \"\"\r\n                    }\r\n                </div>\r\n                {\r\n                    isOpen &&\r\n                    <div className=\"col-12 pt-4 px-0 d-flex justify-content-center justify-content-md-between flex-wrap filter-container\">\r\n                        {\r\n                            (currentTab === 'upcoming' || currentTab === 'past') && (\r\n                                <div className=\"col-12 col-md-3 col-lg-2 pb-3 pb-md-0 px-md-0\">\r\n                                    <input type=\"text\" placeholder=\"Min price\" value={pricemin} onChange={this.handleSetMinMax} name=\"pricemin\" className=\"col-12 mb-2 py-1 px-3\" />\r\n                                    <input type=\"text\" placeholder=\"Max price\" value={pricemax} onChange={this.handleSetMinMax} name=\"pricemax\" className=\"col-12 py-1 px-3\" />\r\n                                </div>\r\n                            )\r\n                        }\r\n\r\n                        <div className=\"col-12 col-md-9 d-flex flex-wrap\">\r\n                            {\r\n                                (currentTab !== 'past' && !noResults) && availableCategories.map(item => (\r\n                                    <div className=\"ui checkbox col-12 col-lg-4 col-md-6 pb-2\" key={'category_' + item.id}>\r\n                                        <input\r\n                                            type=\"checkbox\"\r\n                                            id={'category_' + item.id}\r\n                                            // defaultChecked={this.categorySelected(item.replaceAll(' ','-'))}\r\n                                            checked={this.categorySelected(item.id)}\r\n                                            value={item.id}\r\n                                            onChange={this.handleCheckboxChange}\r\n                                        />\r\n                                        <label htmlFor={'category_' + item.id} dangerouslySetInnerHTML={{__html: item.name}} />\r\n                                    </div>\r\n                                ))\r\n                            }\r\n                        </div>\r\n                        <div className=\"col-12 d-flex justify-content-center p-3\">\r\n                            <button type=\"submit\" className=\"py-2 px-4 text-uppercase font-weight-extra-bold\" onClick={this.handleSubmitFilters}>Apply filters <FontAwesomeIcon className=\"ml-3\" icon={faArrowRight}/></button>\r\n                        </div>\r\n                    </div>\r\n                }\r\n            </div>\r\n        </>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n      availableCategories: state.availableCategories\r\n  };\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { /*getCategories*/ }\r\n)(SearchFilters);\r\n","import React, {Component} from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faSearch } from '@fortawesome/free-solid-svg-icons';\n\nimport Loader from 'react-loader-spinner';\n\nimport './SearchBar.css';\nimport store from \"../../store\";\nimport {updateSearch} from \"../../actions\"; //  getAuctions, getEvents,\n\nimport SearchFiltersNew from '../SearchFiltersNew/SearchFiltersNew';\n\n// import data from '../../requestApi.json';\n\nclass SearchBar extends Component {\n\n    constructor(props) {\n        super(props);\n\n        const storeState = store.getState();\n\n        this.loadingsAfterMount = 0;\n        this.state = {\n            searchFiltersActive: true,\n            query: '',\n            submited: false,\n            count: 1, // delete this when api return count of lots,\n            // currentTab: storeState.currentTab || this.props.openTabs || 'upcoming',\n            currentTab: this.props.openTabs || storeState.currentTab || 'upcoming',\n            sorting: storeState.sorting || '',\n            categories: storeState.selectedCategories || [],\n            pricemin: storeState.priceMin || '',\n            pricemax: storeState.priceMax || '',\n\n            lotsCount: storeState.lotsCount || 0,\n            pastLotsCount: storeState.pastLotsCount || 0,\n            auctionsCount: storeState.auctionsCount || 0,\n            postsCount: storeState.postsCount || 0,\n        };\n        this._isMounted = false;\n\n        this.delay = 0;\n\n        this.handleSearchSubmit = this.handleSearchSubmit.bind(this);\n        this.showSearchFilters = this.showSearchFilters.bind(this);\n    }\n\n    toggleFilter(menu_btn) {\n        const el = document.getElementById('searchBox');\n\n        if(el && el.classList.contains('show')){\n            menu_btn.classList.remove('open');\n            menu_btn.querySelector('#to_open').style.display = \"block\";\n        }\n        else{\n            menu_btn.classList.add('open');\n            menu_btn.querySelector('#to_open').style.display = \"none\";\n        }\n    }\n\n    componentDidMount() {\n        this._isMounted = true;\n        const menu_btn = document.getElementById('menu_search_form_btn');\n\n        if(menu_btn){\n            menu_btn.querySelector('#to_open').style.display = \"none\";\n\n            menu_btn.addEventListener('click', e => this.toggleFilter(menu_btn));\n        }\n\n        const _this = this;\n\n        store.subscribe(() => {\n            if (_this._isMounted) {\n                const {\n                    searchText,\n                    sorting,\n                    loading,\n                    currentTab,\n                    selectedCategories,\n                    priceMin,\n                    priceMax,\n\n                    lotsCount,\n                    pastLotsCount,\n                    auctionsCount,\n                    postsCount\n                } = store.getState();\n\n                if (_this._isMounted && _this.loadingsAfterMount < 2) {\n                    ++_this.loadingsAfterMount\n                }\n\n                const stateChanges = {\n                    query: searchText,\n                    // currentTab: currentTab,\n                    // currentTab: _this.props.openTabs || currentTab,\n                    currentTab: (_this.loadingsAfterMount !== 2) ? _this.props.openTabs || currentTab : currentTab,\n                    sorting: sorting,\n                    categories: selectedCategories,\n                    pricemin: priceMin,\n                    pricemax: priceMax,\n                    lotsCount: lotsCount,\n                    pastLotsCount: pastLotsCount,\n                    auctionsCount: auctionsCount,\n                    postsCount: postsCount,\n                };\n\n                if(!loading && _this.state.submited){\n                    stateChanges.submited = false;\n                }\n\n                this.setState(stateChanges);\n            }\n        });\n    }\n\n    // componentDidUpdate(prevProps) {\n    //     // if (prevProps.text !== this.props.text) {\n    //     //     this.updateAndNotify();\n    //     // }\n    //     this.setState({currentTab: this.props.openTabs});\n    // }\n\n    componentWillUnmount() {\n        this._isMounted = false;\n\n        const menu_btn = document.getElementById('menu_search_form_btn');\n        if (menu_btn) {\n            menu_btn.removeEventListener('click', e => this.toggleFilter(menu_btn));\n        }\n    }\n\n    handleSearchSubmit = (e) => {\n        e.preventDefault();\n\n        const {\n            currentTab,\n            query,\n            sorting,\n            categories,\n            pricemin,\n            pricemax\n        } = this.state;\n\n        const storeState = store.getState();\n\n        if (\n            storeState.currentTab !== currentTab ||\n            storeState.searchText !== query ||\n            storeState.sorting !== sorting ||\n            storeState.priceMin !== pricemin ||\n            storeState.priceMax !== pricemax\n        ) {\n            if (window.history.pushState) {\n                let newUrl = window.location.protocol + \"//\" + window.location.host + window.location.pathname;\n                const params = [];\n\n                if (currentTab) params.push('tab=' + currentTab);\n                if (query) params.push('search=' + query);\n\n                if (categories.length) {\n                    params.push('categories=' + categories.join(','));\n                }\n\n                if (pricemin) params.push('min_price=' + pricemin);\n                if (pricemax) params.push('max_price=' + pricemax);\n                if (sorting) params.push('sort=' + sorting);\n\n                if (params.length) {\n                    newUrl += '?' + params.join('&');\n                }\n\n                window.history.pushState({path:newUrl},'',newUrl);\n            }\n\n            this.props.loadChanges(() => {\n                if (this._isMounted) {\n                    store.dispatch(updateSearch(Object.assign(store.getState(), {searchText: query })));\n                }\n            });\n        }\n    };\n\n    showSearchFilters = (e) => {\n        const menu_btn = document.getElementById('menu_search_form_btn');\n\n        menu_btn.classList.add('open');\n    };\n\n\n    render() {\n        const {\n            currentTab,\n            lotsCount,\n            pastLotsCount,\n            auctionsCount,\n            postsCount\n        } = this.state;\n\n        return (\n            <>\n                {\n                    // this.state.submited ? (\n                    this.props.isLoading ? (\n                        <div className=\"preloader-blur\">\n                            <Loader\n                                type=\"ThreeDots\"\n                                color=\"#8C2828\"\n                                height={50}\n                                width={50}\n                                timeout={100000}\n                            />\n                        </div>\n                    ) : ''\n                }\n\n                <div className=\"collapse h-site-search--search-wrap show\" id=\"searchBox\"> {/*position - fixed  searchBox change id to remove action hide filter block*/}\n\n                    <section className=\"searchBox h-site-search--search p-0 pt-4 px-md-4 pt-md-5\">\n\n                        <form action=\"/\" className=\"h-site-search--form\">\n                            <div className=\"container\">\n                                <div className=\"column justify-content-center\">\n\n                                    <div className=\"mx-auto pb-5 col-12 col-md-6 col-lg-6 col-xl-4 form-group form-item h-form-group h-form-item d-flex flex-column flex-lg-row align-items-lg-center\">\n                                        <div className=\"ui icon input\">\n                                            <label htmlFor=\"search\" className=\"sr-only\">Search Auctions/Lots</label>\n                                            <input type=\"text\" id=\"search\" className=\"form-control h-form-control\" placeholder=\"Enter the terms you wish to search for\" value={this.state.query} onChange={e => this.setState({query: e.target.value})} />\n                                            <button type=\"submit\" className=\"position-relative w-25\" onClick={this.handleSearchSubmit}><FontAwesomeIcon icon={faSearch} size=\"sm\" /></button>\n                                        </div>\n                                    </div>\n\n                                    <div className=\"tabs mx-auto col-12 d-flex justify-content-center\">\n                                        {/*when click save type of lots and get request to api and save to redux*/}\n                                        <button\n                                          className={'text-uppercase py-2 px-lg-5 mr-md-3 mr-2 px-md-2' + (currentTab === 'upcoming' ? ' active' : '')}\n                                          name=\"upcoming\"\n                                          onClick={this.props.handleTabSelect}>\n                                            Upcoming {(lotsCount && currentTab === 'upcoming' && `(${lotsCount})`) || ''} {/*get data from redux store about count of lots (count field)*/}\n                                        </button>\n                                        <button\n                                          className={'text-uppercase py-2 px-lg-5 mr-md-3 mr-2 px-md-2' + (currentTab === 'past' ? ' active' : '')}\n                                          name=\"past\"\n                                          onClick={this.props.handleTabSelect}>\n                                            Past {(pastLotsCount && currentTab === 'past' && `(${pastLotsCount})`) || ''} {/*get data from redux store about count of lots (count field)*/}\n                                        </button>\n                                        <button\n                                          className={'text-uppercase py-2 px-lg-5 mr-md-3 mr-2 px-md-2' + (currentTab === 'auctions' ? ' active' : '')}\n                                          name=\"auctions\"\n                                          onClick={this.props.handleTabSelect}>\n                                            Auctions {(auctionsCount && currentTab === 'auctions' && `(${auctionsCount})`) || ''} {/*get data from redux store about count of lots (count field)*/}\n                                        </button>\n                                        <button\n                                          className={'text-uppercase py-2 px-lg-5 mr-md-3 mr-2 px-md-2' + (currentTab === 'other' ? ' active' : '')}\n                                          name=\"other\"\n                                          onClick={this.props.handleTabSelect}>\n                                            Other {(postsCount && currentTab === 'other' && `(${postsCount})`) || ''} {/*get data from redux store about count of lots (count field)*/}\n                                        </button>\n                                    </div>\n\n                                    <SearchFiltersNew loadChanges={this.props.loadChanges} />\n                                </div>\n                            </div>\n                        </form>\n\n                    </section>\n\n                </div>\n\n            </>\n        );\n    }\n\n\n\n}\n\nexport default SearchBar;\n","import React from 'react';\nimport SearchBar from '../SearchBar/SearchBar';\n\n\nimport './SearchBox.css';\n\nfunction SearchBox({handleTabSelect, isLoading, loadChanges, openTabs}) {\n\n    return (\n        <div>\n            <SearchBar handleTabSelect={handleTabSelect} isLoading={isLoading} loadChanges={loadChanges} openTabs={openTabs} />\n        </div>\n    );\n\n}\n\nexport default SearchBox;\n","import React, { Component } from 'react';\n\nimport '../LotContainer/LotContainer.css'\n\nimport BlockHeader from '../BlockHeader/BlockHeader';\nimport Lot from '../Lot/Lot';\nimport LotLoader from '../LotLoader/LotLoader';\nimport {connect} from \"react-redux\";\nimport {loadMore} from '../../actions/index';\nimport store from \"../../store\";\n\nclass LotContainer extends Component {\n\n    constructor(props) {\n        super(props);\n\n        const storeState = store.getState();\n\n        this.state = {\n            loading: true,\n            page: 0,\n            // for detecting changes !!!\n            searchText: storeState.searchText || '',\n            selectedCategories: storeState.selectedCategories || [],\n            priceMin: storeState.priceMin || '',\n            priceMax: storeState.priceMax || '',\n            sorting: storeState.sorting || '',\n        };\n        this._isMounted = false;\n\n        this.loadMore = this.loadMore.bind(this);\n    }\n\n    componentDidMount() {\n        this._isMounted = true;\n    }\n\n    componentWillUnmount() {\n        this._isMounted = false;\n    }\n\n    loadMore(e) {\n        const storeState = store.getState();\n        this.props.loadMore(storeState, storeState.currentTab);\n    }\n\n    render() {\n        let pastLots = [];\n\n        let show = true;\n\n        if ( this.props.isLoading ) {\n            for (let i = 0; i < 4; i++) {\n                pastLots.push(<LotLoader key={i} />);\n            }\n        }\n\n        if ( this.props.pastLots.length && !this.props.isLoading )\n        {\n            pastLots = this.props.pastLots.map(item =>\n                <React.Fragment key={'past_lot_' + item.ref}>\n                    {\n                        <Lot\n                            lot={item}\n                            isPast={true}\n                        />\n                    }\n                </React.Fragment>\n            );\n\n        } else {\n            if ( !this.props.isLoading ) {\n                if(this.props.message){\n                    show = false;\n                }\n            }\n        }\n\n        return show ? (\n            <div>\n                <BlockHeader title=\"Past Lots\" />\n\n                <div className=\"row row-spacing\">\n                    {pastLots}\n                </div>\n\n                {\n                    (this.props.pastLots.length && this.props.page !== -1) ? (\n                        <div className=\"col-12 text-center\">\n                            <button className=\"btn btn-load-more mt-3 mb-5\" onClick={this.loadMore}>Load More</button>\n                        </div>\n                    ) : ''\n                }\n            </div>\n        ) : '';\n\n    }\n\n}\n\nfunction mapStateToProps(state) {\n    return {\n        pastLots: state.lotsPast || [],\n        message: state.message,\n        page: state.page,\n    };\n}\n\nexport default connect(\n    mapStateToProps,\n    { loadMore }\n)(LotContainer);","import React, {useEffect, useState} from 'react';\r\nimport './Auction.css';\r\nimport FadeIn from \"react-fade-in\";\r\n\r\nconst days = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\r\nconst months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\r\n\r\nfunction getDate(datetime) {\r\n    return `${days[datetime.getDay()]}, ${months[datetime.getMonth()]} ${datetime.getDate()}, ${datetime.getFullYear()}`;\r\n}\r\n\r\n\r\nfunction Auction(props) {\r\n    const dateT = new Date(props.datetime * 1000);\r\n\r\n    let date = getDate(dateT);\r\n    let time = dateT.toLocaleTimeString('en-US');\r\n\r\n    const [isMobile, setIsMobile] = useState(false);\r\n    useEffect(() => {\r\n        if ( window.innerWidth < 576 ) {\r\n            setIsMobile(true);\r\n        } else {\r\n            setIsMobile(false);\r\n        }\r\n    }, []);\r\n\r\n    const addr = props.location;\r\n    let addrShow = addr.city + (addr.state ? ', ' + addr.state : '');\r\n\r\n    // <div className=\"col-12 col-lg-6 search-auction-result anim-search-result\">\r\n    return (\r\n        <>\r\n            <div className=\"col-12 col-md-6 col-lg-3 pb-4 search-auction-result anim-search-result lot-container\">\r\n                <FadeIn>\r\n                    <a href={props.link} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                        <figure className=\"text-center imgContainer\">\r\n                            {\r\n                                (props.imgSrc) ? (\r\n                                    <img src={props.imgSrc} alt=\"Text\" className=\"mw-100\" width=\"260\" height=\"250\" />\r\n                                  ) :\r\n                                  <div className=\"emptyPhoto\">\r\n                                      {!isMobile ?\r\n                                        <img\r\n                                          src=\"https://johnmoran.invaluable.com/wp-content/themes/theme-johnmoran/dist/img/moran_grey.png\"\r\n                                          alt=\"LOGO\" className=\"mw-100\" width=\"260\"/> : ''}\r\n                                  </div>\r\n                            }\r\n                        </figure>\r\n                    </a>\r\n                    <aside className=\"search-lot--content py-4 px-4 text-left\">\r\n                        <a href={props.link} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                            <h3 className=\"font-weight-normal text-grey title\" dangerouslySetInnerHTML={{__html: props.title}} />\r\n                            {props.title && <h4 className=\"my-3 font-weight-normal subtitle\"><u dangerouslySetInnerHTML={{__html: addrShow}} /></h4>}\r\n                        </a>\r\n                        {date !== '' && <p className='m-0'>{date}</p>}\r\n                        {time !== '' && <p className='m-0'>{time}</p>}\r\n                    </aside>\r\n                </FadeIn>\r\n            </div>\r\n\r\n        </>\r\n    );\r\n\r\n}\r\n\r\nexport default Auction;\r\n\r\n","import React from \"react\"\n\nconst AuctionLoader = () => (\n    <div className=\"col-12 col-lg-6 mt-3 search-auction-result\">\n        <div className=\"ui-placeholder__auctions-wrap\">\n            <div className=\"ui fluid placeholder\">\n                <div className=\"image header\">\n                    <div className=\"line\" />\n                    <div className=\"line\" />\n                </div>\n                <div className=\"paragraph\">\n                    <div className=\"line\" />\n                    <div className=\"line\" />\n                    <div className=\"line\" />\n                </div>\n            </div>\n        </div>\n    </div>\n);\n\nexport default AuctionLoader;\n","import React, {Component} from 'react';\n\nimport BlockHeader from '../BlockHeader/BlockHeader';\nimport Auction from '../Auction/Auction';\nimport {connect} from \"react-redux\";\nimport {loadMore} from '../../actions/index';\nimport store from \"../../store\";\nimport AuctionLoader from \"../AuctionLoader/AuctionLoader\";\n\nclass AuctionsContainer extends Component {\n    constructor(props) {\n        super(props);\n\n        const storeState = store.getState();\n\n        this.state = {\n            loading: true,\n            page: 0,\n            // for detecting changes !!!\n            searchText: storeState.searchText || '',\n            selectedCategories: storeState.selectedCategories || [],\n            sorting: storeState.sorting || '',\n        };\n        this._isMounted = false;\n\n        this.loadMore = this.loadMore.bind(this);\n    }\n\n    componentDidMount() {\n        this._isMounted = true;\n    }\n\n    componentWillUnmount() {\n        this._isMounted = false;\n    }\n\n    loadMore(e) {\n        const storeState = store.getState();\n        this.props.loadMore(storeState, storeState.currentTab);\n    }\n\n    render() {\n        let auctions = [];\n\n        if ( this.props.isLoading ) {\n            for (let i = 0; i < 4; i++) {\n                auctions.push(<AuctionLoader key={'auction_' + i} />);\n            }\n        }\n\n        if ( this.props.auctions.length && !this.props.isLoading )\n        {\n            auctions = this.props.auctions.map((item, key) =>\n                <Auction\n                    key={'auction_' + key}\n                    auctionId={item.id}\n                    location={item.location}\n                    link={item.permalink}\n                    title={item.title}\n                    datetime={item.date}\n                    imgSrc={item.photo}\n                />\n            );\n\n        } else {\n            if ( !this.props.isLoading ) {\n                if(this.props.message){\n                    auctions = <p className=\"error-message\">{this.props.message}</p>;\n                }\n            }\n        }\n\n\n        return (\n            <div>\n                <BlockHeader title=\"Auctions\" />\n\n                <div className=\"row row-spacing\">\n                    {auctions}\n                </div>\n\n                {\n                    (this.props.page !== -1) ? (\n                        <div className=\"col-12 text-center\">\n                            <button className=\"btn btn-load-more mt-3 mb-5\" onClick={this.loadMore}>Load More</button>\n                        </div>\n                    ) : ''\n                }\n            </div>\n        );\n    }\n\n}\n\nfunction mapStateToProps(state) {\n    return {\n        auctions: state.auctionsNew || [],\n        message: state.message,\n        page: state.page,\n    };\n}\n\nexport default connect(\n    mapStateToProps,\n    { loadMore }\n)(AuctionsContainer);","import React, {Component} from 'react';\n\nimport LotContainer from './components/LotContainer/LotContainer';\nimport ArticleContainer from './components/ArticleContainer/ArticleContainer';\nimport SearchBox from './components/SearchBox/SearchBox';\n\nimport './App.css';\n\nimport { Provider } from 'react-redux';\nimport store from './store/index';\nimport {\n    loadMore,\n    updateTab,\n    updateFromURL, initData\n} from './actions/index';\nimport PastLotContainer from \"./components/PastLotContainer/PastLotContainer\";\nimport AuctionsContainer from \"./components/AuctionsContainer/AuctionsContainer\";\n\nwindow.store = store;\nwindow.loadMore = loadMore;\nwindow.updateTab = updateTab;\nwindow.initData = initData;\n\nclass App extends Component{\n    constructor(props) {\n        super(props);\n\n        const params = this.parseUrl();\n\n        this.state = {\n            loading: true,\n            noResults: false,\n            openTabs: params.tab || 'upcoming'\n        };\n\n        this.handleTabSelect = this.handleTabSelect.bind(this);\n        this.applyChangesLoading = this.applyChangesLoading.bind(this);\n        this._isMounted = false;\n    }\n\n    parseUrl() {\n        const url = window.location.search;\n        if (!url) return {};\n\n        let query = url.substr(1);\n        let result = {};\n        query.split(\"&\").forEach(function(part) {\n            let item = part.split(\"=\");\n            result[item[0]] = decodeURIComponent(item[1]);\n        });\n        return result;\n    }\n\n    getFiltersFromUrlParams(params) {\n        if (!params) params = this.parseUrl();\n\n        const { tab = 'upcoming', search = '', categories = null, min_price = '', max_price = '', sort = '' } = params;\n\n        const changes = {\n            selectedCategories: categories ? categories.split(',') : [],\n            priceMin: min_price,\n            priceMax: max_price,\n        };\n\n        if (this.state.currentTab !== tab) {\n            changes.currentTab = tab;\n        }\n        if (this.state.search !== search) {\n            changes.searchText = search;\n        }\n        if (this.state.sorting !== sort) {\n            changes.sorting = sort\n        }\n\n        if (this._isMounted) this.setState({loading: true}, () => {\n            if (this._isMounted) {\n                store.dispatch( updateFromURL(Object.assign(store.getState(), changes)) );\n            }\n        });\n    }\n\n\n    updateUrlParams() {\n        const { openTabs = 'upcoming' } = this.state;\n        const {\n            currentTab = 'upcoming',\n            searchText = '',\n            lastLotFilters = null,\n            lastPastLotFilters = null,\n            lastAuctionFilters = null,\n            lastPostFilter = null\n        } = store.getState();\n\n        if (openTabs !== currentTab) {\n            let lastFilters = null;\n            switch (openTabs) {\n                case 'upcoming': lastFilters = lastLotFilters; break;\n                case 'past': lastFilters = lastPastLotFilters; break;\n                case 'auctions': lastFilters = lastAuctionFilters; break;\n                case 'other': lastFilters = lastPostFilter; break;\n            }\n\n            const filterChanges = {\n                selectedCategories: (lastFilters.hasOwnProperty('categories') && lastFilters['categories'].length) ? lastFilters['categories'] : [],\n                priceMin: (lastFilters.hasOwnProperty('min') && lastFilters['min'] !== '') ? lastFilters['min'] : '',\n                priceMax: (lastFilters.hasOwnProperty('max') && lastFilters['max'] !== '') ? lastFilters['max'] : '',\n            };\n\n            if (window.history.pushState) {\n                let newUrl = window.location.protocol + \"//\" + window.location.host + window.location.pathname;\n                const params = [];\n\n                if (openTabs) params.push('tab=' + openTabs);\n                if (searchText) params.push('search=' + searchText);\n\n                if (filterChanges.selectedCategories.length) {\n                    params.push('categories=' + filterChanges.selectedCategories.join(','))\n                }\n                if (filterChanges.priceMin !== '') params.push('min_price=' + filterChanges.priceMin);\n                if (filterChanges.priceMax !== '') params.push('max_price=' + filterChanges.priceMax);\n\n                if (params.length) {\n                    newUrl += '?' + params.join('&');\n                }\n                window.history.pushState({path:newUrl},'',newUrl);\n            }\n\n            store.dispatch(updateTab({currentTab: openTabs, searchText: searchText, ...filterChanges}));\n        }\n    }\n\n    componentDidMount() {\n        this._isMounted = true;\n\n        const params = this.parseUrl();\n        if (Object.keys(params).length > 0) {\n            this.getFiltersFromUrlParams(params);\n        } else {\n            store.dispatch( initData() );\n        }\n\n        this.setState({\n            openTabs: this.state.openTabs || 'upcoming'\n        });\n\n        store.subscribe(() => {\n            if (this._isMounted) {\n                const {\n                    currentTab,\n                    lotsCount = 0,\n                    pastLotsCount = 0,\n                    auctionsCount = 0,\n                    postsCount = 0,\n\n                    message = '',\n                } = store.getState();\n\n                this.setState({\n                    loading: false,\n                    noResults: (\n                        message !== '' &&\n                        (\n                            (currentTab === 'upcoming' && lotsCount === 0) ||\n                            (currentTab === 'past' && pastLotsCount === 0) ||\n                            (currentTab === 'auctions' && auctionsCount === 0) ||\n                            (currentTab === 'other' && postsCount === 0)\n                        )\n                    ),\n                    openTabs: currentTab\n                })\n            }\n        });\n\n        window.addEventListener('popstate', (event) => {\n            if (this._isMounted && !this.state.loading) {\n                this.getFiltersFromUrlParams();\n            }\n        });\n    }\n\n    componentWillUnmount() {\n        this._isMounted = false;\n        window.removeEventListener('popstate', () => {\n            if(this._isMounted && !this.state.loading) this.getFiltersFromUrlParams();\n        });\n    }\n\n    handleTabSelect (e) {\n        e.preventDefault();\n\n        if (e.target.name !== this.state.openTabs) {\n            this.setState({openTabs: e.target.name, loading: true}, () => {\n                if (this._isMounted) this.updateUrlParams();\n            });\n        }\n    }\n\n    applyChangesLoading (callback) {\n        this.setState({loading: true}, () => {\n            if (this._isMounted) callback();\n        });\n    }\n\n    switchTabRenderer () {\n        const { openTabs = 'upcoming', loading = false } = this.state;\n\n        switch (openTabs) {\n            case 'upcoming': return <LotContainer isLoading={loading} />;\n            case 'past': return <PastLotContainer isLoading={loading} />;\n            case 'auctions': return <AuctionsContainer isLoading={loading} />;\n            case 'other': return <ArticleContainer isLoading={loading} />;\n            default: return '';\n        }\n    }\n\n    render() {\n        const { noResults, loading, openTabs } = this.state;\n\n        return (\n            <div className=\"App\">\n                <Provider store={store}>\n                    <SearchBox handleTabSelect={this.handleTabSelect} isLoading={loading} loadChanges={this.applyChangesLoading} openTabs={openTabs} />\n\n                    <main className=\"main-content\">\n                        <section className=\"section\">\n\n                            <div className=\"container\">\n                                {\n                                    noResults ? (<p className=\"error-message\">No results</p>) : this.switchTabRenderer()\n                                }\n                            </div>\n\n                        </section>\n                    </main>\n                </Provider>\n            </div>\n        );\n    }\n\n}\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nimport \"react-app-polyfill/ie11\";\nimport \"react-app-polyfill/stable\";\n\nimport 'jquery/dist/jquery.min.js'\nimport 'popper.js';\nimport 'bootstrap/dist/js/bootstrap';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}