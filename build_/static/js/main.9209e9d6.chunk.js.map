{"version":3,"sources":["components/Lot/Lot.js","components/LotLoader/LotLoader.js","actions/index.js","constants/action-types.js","reducers/index.js","store/index.js","components/LotContainer/LotContainer.js","components/BlockHeader/BlockHeader.js","components/Article/Article.js","components/ArticleLoader/ArticleLoader.js","components/ArticleContainer/ArticleContainer.js","components/SearchFiltersNew/SearchFiltersNew.js","components/SearchBar/SearchBar.js","components/SearchBox/SearchBox.js","components/PastLotContainer/PastLotContainer.js","components/Auction/Auction.js","components/AuctionLoader/AuctionLoader.js","components/AuctionsContainer/AuctionsContainer.js","App.js","serviceWorker.js","index.js"],"names":["days","months","Lot","props","lot","ref","title","photo","currencySymbol","saleDate","estimate","estimateLow","lotNumber","bid","lotNumberExtension","priceResult","slug","replace","url","useState","isMobile","setIsMobile","useEffect","window","innerWidth","estimatePrice","className","href","target","rel","src","alt","width","height","dangerouslySetInnerHTML","__html","isPast","datetime","dateT","Date","getDay","getMonth","getDate","getFullYear","LotLoader","speed","viewBox","backgroundColor","foregroundColor","x","y","rx","ry","baseUrl","requestOptions","headers","orderParams","sorting","type","sort","split","lotFilter","params","searchText","selectedCategories","priceMin","priceMax","pageSize","page","qs","push","length","join","ord","auctionFilter","otherFilter","getLotsNew","a","payload","refresh","past","route","axios","get","response","items","data","count","usedCategories","used_categories","success","console","log","message","hasOwnProperty","getAuctionsNew","getOtherNew","updateTab","dispatch","currentTab","newParams","loadMore","tab","initData","initialState","availableCategories","lotsNew","lotsPast","auctionsNew","postsNew","dataChanged","lotsCount","pastLotsCount","auctionsCount","postsCount","activeTabCounter","lastLotFilters","categories","min","max","lastPastLotFilters","lastAuctionFilters","lastPostFilter","procNewData","state","changes","reduceRefreshedData","uniqueItemsObj","reduce","c","e","Object","values","Set","rootReducer","action","assign","storeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","LotContainer","storeState","getState","loading","_isMounted","bind","this","lots","show","isLoading","i","key","map","item","Fragment","onClick","Component","connect","BlockHeader","Article","link","imgSrc","articleTitle","excerpt","ArticleLoader","ArticleContainer","news","detailsUrl","SearchFilters","categorySelected","categoryId","categoriesSaved","indexOf","toString","noResult","submited","isOpen","setCategory","pricemin","pricemax","search","handleOpenClose","handleSetMinMax","handleCheckboxChange","handleSubmitFilters","handleSortingSelect","difference","filter","includes","concat","history","pushState","newUrl","location","protocol","host","pathname","path","loadChanges","updateSorting","updateFiltersNew","_this","subscribe","stateChanges","noResults","setState","preventDefault","value","name","isNaN","newCategories","checked","idx","splice","updateUrlParams","currentSortOptions","label","icon","faArrowUp","faArrowDown","onChange","disabled","opt","placeholder","id","htmlFor","faArrowRight","SearchBar","handleSearchSubmit","query","updateSearch","showSearchFilters","document","getElementById","classList","add","loadingsAfterMount","searchFiltersActive","openTabs","delay","menu_btn","el","contains","remove","querySelector","style","display","addEventListener","toggleFilter","removeEventListener","color","timeout","faSearch","size","handleTabSelect","SearchBox","pastLots","Auction","date","time","toLocaleTimeString","addr","addrShow","city","AuctionLoader","AuctionsContainer","auctions","auctionId","permalink","App","parseUrl","applyChangesLoading","substr","result","forEach","part","decodeURIComponent","min_price","max_price","updateFromURL","lastFilters","filterChanges","keys","getFiltersFromUrlParams","event","callback","PastLotContainer","switchTabRenderer","Boolean","hostname","match","ReactDOM","render","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.9209e9d6.chunk.js","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport FadeIn from 'react-fade-in';\nimport './Lot.css';\n\nconst days = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\nconst months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\n\nfunction getDate(datetime) {\n    const dateT = new Date(datetime);\n\n    return `${days[dateT.getDay()]}, ${months[dateT.getMonth()]} ${dateT.getDate()}, ${dateT.getFullYear()}`;\n}\n\nfunction Lot(props) {\n    const { ref, title, photo, currencySymbol, saleDate, estimate ,estimateLow,\n        lotNumber, bid, lotNumberExtension, priceResult } = props.lot;\n\n\n    let slug = title.replace(/ /g, \"-\");  // maybe need to change this place to api result\n    let url = `/auction-lot/${slug}_${ref}`; // maybe need to change this place to api result\n\n    const [isMobile, setIsMobile] = useState(false);\n    useEffect(() => {\n        if ( window.innerWidth < 576 ) {\n            setIsMobile(true);\n        } else {\n            setIsMobile(false);\n        }\n    }, []);\n\n    let estimatePrice = (((estimateLow || estimate) && currencySymbol) || '') + ' ' + ((estimateLow && estimate && `${estimateLow} - ${estimate}`) || estimateLow || estimate || '');\n\n    return (\n        <>\n            <div className=\"col-12 col-md-6 col-lg-3 pb-4 lot-container\">\n                <FadeIn>\n                    <a href={url} target=\"_blank\" rel=\"noopener noreferrer\">\n                        <figure className=\"text-center imgContainer\">\n                            {\n                                (photo) ? (\n                                    <img src={photo} alt=\"Text\" className=\"mw-100\" width=\"260\" height=\"250\" />\n                                ) :\n                                  <div className=\"emptyPhoto\">\n                                      {!isMobile ?\n                                          <img\n                                        src=\"https://johnmoran.invaluable.com/wp-content/themes/theme-johnmoran/dist/img/moran_grey.png\"\n                                        alt=\"LOGO\" className=\"mw-100\" width=\"260\"/> : ''}\n                                  </div>\n                            }\n                        </figure>\n                    </a>\n                    <aside className=\"search-lot--content py-4 px-4 text-left\">\n                        <a href={url} target=\"_blank\" rel=\"noopener noreferrer\">\n                            <h3 className=\"font-weight-normal text-grey title\" dangerouslySetInnerHTML={{__html: title}} />\n                        </a>\n                        {estimatePrice !== '' && <p className='m-0'>Estimate: {estimatePrice}</p>}\n                        {lotNumber && <p className='m-0'>Lot number: {lotNumber} {(props.isPast && lotNumberExtension) || ''}</p>}\n                        {(bid && <p className='m-0'>Bid: {bid}</p>) || ''}\n                        {(saleDate && <p className='m-0'>Sale date: {getDate(saleDate)}</p>) || ''}\n                        {/*this add in past fields */}\n                        {(props.isPast) && <p className='m-0'>Result price: {(priceResult && ((currencySymbol || '') + ' ' + priceResult)) || 'Unsold'}</p>}\n                    </aside>\n                </FadeIn>\n            </div>\n        </>\n    );\n\n}\n\nexport default Lot;\n","import React from \"react\"\r\nimport ContentLoader from \"react-content-loader\" \r\n\r\nconst LotLoader = () => (\r\n  <ContentLoader \r\n    speed={2}\r\n    width={400}\r\n    height={475}\r\n    viewBox=\"0 0 400 475\"\r\n    backgroundColor=\"#bdbdbd\"\r\n    foregroundColor=\"#dadcdd\"\r\n  >\r\n    <rect x=\"-149\" y=\"-167\" rx=\"2\" ry=\"2\" width=\"452\" height=\"452\" />\r\n  </ContentLoader>\r\n)\r\n\r\nexport default LotLoader\r\n","import {\r\n    // GET_CATEGORIES,\r\n    INIT_DATA,\r\n    LOAD_MORE, UPDATE_ALL_FROM_URL,\r\n    UPDATE_FILTERS_NEW,\r\n    UPDATE_SEARCH,\r\n    UPDATE_SORTING,\r\n    UPDATE_TAB\r\n} from \"../constants/action-types\";\r\nimport axios from \"axios\";\r\n\r\n\r\n// const baseUrl = 'https://johnmoran.hksndev2.co.uk/wp-json';\r\n// const baseUrl = 'https://johnmoranstage.invaluable.com/wp-json';\r\n// const baseUrl = 'https://hksndev2.co.uk/contemporary/wp-json';\r\n// const baseUrl = 'https://www.dzendzianandsons.com/wp-json';\r\nconst baseUrl = '/wp-json';\r\n\r\nconst requestOptions = {\r\n    headers: {\r\n        // 'id': 'V053C9yWvo45XsOxKB',\r\n        'id': 's2DUnuzU3TVfk44ZNp',\r\n    }\r\n};\r\n\r\nconst orderParams = (sorting = '', type = null) => {\r\n    if (sorting === '') {\r\n        if (!type) return '';\r\n\r\n        else {\r\n            switch (type) {\r\n                case 'upcoming': return 'sort_by=date&sort_order=asc';\r\n                case 'past': return 'sort_by=date&sort_order=desc';\r\n                case 'auctions': return 'sort_by=date&sort_order=asc';\r\n                case 'other': return 'sort_by=date&sort_order=desc';\r\n                default: return '';\r\n            }\r\n        }\r\n    }\r\n\r\n    const sort = sorting.split('||');\r\n    return `sort_by=${sort[0]}&sort_order=${sort[1]}`;\r\n};\r\n\r\nconst lotFilter = (params, isPast = false) => {\r\n    const { searchText = null, selectedCategories = [], priceMin = null, priceMax = null, pageSize = 20, page = 0, sorting = '' } = params;\r\n\r\n    const qs = [];\r\n    if (searchText) qs.push('keyword=' + searchText);\r\n    if (priceMin || priceMax) {\r\n        if (priceMin && !priceMax) {\r\n            qs.push('pricemin=' + priceMin);\r\n            qs.push('pricemax=99999');\r\n        } else if (!priceMin && priceMax) {\r\n            qs.push('pricemin=0');\r\n            qs.push('pricemax=' + priceMax);\r\n        } else {\r\n            qs.push('pricemin=' + priceMin);\r\n            qs.push('pricemax=' + priceMax);\r\n        }\r\n    }\r\n    if(selectedCategories.length > 0) qs.push('categories=' + selectedCategories.join(' '));\r\n    qs.push('size=' + pageSize);\r\n    qs.push('page=' + page);\r\n\r\n    const ord = orderParams(sorting, isPast ? 'past' : 'upcoming');\r\n\r\n    return qs.length > 0 ? '?' + qs.join('&') + (ord ? '&' + ord : '') : '';\r\n};\r\n\r\nconst auctionFilter = (params) => {\r\n    const { searchText = null, selectedCategories = [], pageSize = 20, page = 0, sorting = '' } = params;\r\n\r\n    const qs = [];\r\n    if (searchText) qs.push('keyword=' + searchText);\r\n    if(selectedCategories.length > 0) qs.push('categories=' + selectedCategories.join(' '));\r\n    qs.push('size=' + pageSize);\r\n    qs.push('page=' + page);\r\n\r\n    const ord = orderParams(sorting, 'auctions');\r\n\r\n    return qs.length > 0 ? '?' + qs.join('&') + (ord ? '&' + ord : '') : '';\r\n};\r\n\r\nconst otherFilter = (params) => {\r\n    const { searchText = null, selectedCategories = [], pageSize = 20, page = 0, sorting = '' } = params;\r\n\r\n    const qs = [];\r\n    if (searchText) qs.push('keyword=' + searchText);\r\n    if(selectedCategories.length > 0) qs.push('categories=' + selectedCategories.join(' '));\r\n    qs.push('size=' + pageSize);\r\n    qs.push('page=' + page);\r\n\r\n    const ord = orderParams(sorting, 'other');\r\n\r\n    return qs.length > 0 ? '?' + qs.join('&') + (ord ? '&' + ord : '') : '';\r\n};\r\n\r\nasync function getLotsNew(payload = null, refresh = false, past = false) {\r\n    let route = baseUrl + (past ? '/searchlots/inv/past' : '/searchlots/inv/upcoming') + ((payload && !refresh) ? lotFilter(payload, past) : `?${ ((payload && payload.searchText) ? `keyword=${payload.searchText}&`: '') + orderParams('', past ? 'past': 'upcoming')}`);\r\n    const params = payload ? { ...payload } : {};\r\n\r\n    try {\r\n        const response = await axios.get(route, requestOptions);\r\n\r\n        params.items = response.data.data;\r\n        params.count = response.data.count;\r\n        if (!past) params.usedCategories = response.data.used_categories;\r\n        params.success = true;\r\n    } catch (error) {\r\n        console.log('error: ', error);\r\n        params.success = false;\r\n        params.message = (typeof error === 'string') ? error : ((error.hasOwnProperty('response') && error.response)  ? error.response.data.message : '');\r\n    }\r\n\r\n    return params;\r\n}\r\n\r\nasync function getAuctionsNew(payload = null, refresh = false) {\r\n    let route = baseUrl + '/searchlots/inv/auctions' + ((payload && !refresh) ? auctionFilter(payload) : `?${ ((payload && payload.searchText) ? `keyword=${payload.searchText}&`: '') + orderParams('', 'auctions')}`);\r\n    const params = payload ? { ...payload } : {};\r\n\r\n    try {\r\n        const response = await axios.get(route, requestOptions);\r\n\r\n        params.items = response.data.data;\r\n        params.count = response.data.count;\r\n        params.usedCategories = response.data.used_categories;\r\n        params.success = true;\r\n    } catch (error) {\r\n        console.log(error);\r\n        params.success = false;\r\n        params.message = (typeof error === 'string') ? error : ((error.hasOwnProperty('response') && error.response)  ? error.response.data.message : '');\r\n    }\r\n\r\n    return params;\r\n}\r\n\r\nasync function getOtherNew(payload = null, refresh = false) {\r\n    let route = baseUrl + '/searchlots/inv/search' + ((payload && !refresh) ? otherFilter(payload) : `?${ ((payload && payload.searchText) ? `keyword=${payload.searchText}&`: '') + orderParams('', 'other')}`);\r\n\r\n    const params = payload ? { ...payload } : {};\r\n\r\n    try {\r\n        const response = await axios.get(route, requestOptions);\r\n\r\n        params.items = response.data.data;\r\n        params.count = response.data.count;\r\n        params.usedCategories = response.data.used_categories;\r\n        params.success = true;\r\n\r\n\r\n    } catch (error) {\r\n        console.log(error);\r\n        params.success = false;\r\n        params.message = (typeof error === 'string') ? error : ((error.hasOwnProperty('response') && error.response)  ? error.response.data.message : '');\r\n    }\r\n\r\n    return params;\r\n}\r\n\r\n\r\n\r\nexport function updateFromURL(payload = null) {\r\n    return async (dispatch) => {\r\n        const { currentTab = 'upcoming' } = payload;\r\n\r\n        let newParams = null;\r\n\r\n        switch (currentTab) {\r\n            case 'upcoming': newParams = await getLotsNew(payload); break;\r\n            case 'past': newParams = await getLotsNew(payload, false, true); break;\r\n            case 'auctions': newParams = await getAuctionsNew(payload); break;\r\n            case 'other': newParams = await getOtherNew(payload); break;\r\n        }\r\n\r\n        return dispatch({type: UPDATE_ALL_FROM_URL, payload: newParams});\r\n    }\r\n}\r\n\r\nexport function updateTab(payload = {}) {\r\n    return async (dispatch) => {\r\n        const { currentTab = 'upcoming' } = payload;\r\n\r\n        let newParams = null;\r\n\r\n        switch (currentTab) {\r\n            case 'upcoming': newParams = await getLotsNew(payload); break;\r\n            case 'past': newParams = await getLotsNew(payload, false, true); break;\r\n            case 'auctions': newParams = await getAuctionsNew(payload); break;\r\n            case 'other': newParams = await getOtherNew(payload); break;\r\n        }\r\n\r\n        return dispatch({type: UPDATE_TAB, payload: newParams});\r\n    }\r\n}\r\n\r\nexport function updateFiltersNew(payload = {}, tab = 'upcoming') {\r\n    return async (dispatch) => {\r\n        let newParams = null;\r\n\r\n        switch (tab) {\r\n            case 'upcoming': newParams = await getLotsNew(payload); break;\r\n            case 'past': newParams = await getLotsNew(payload, false, true); break;\r\n            case 'auctions': newParams = await getAuctionsNew(payload); break;\r\n            case 'other': newParams = await getOtherNew(payload); break;\r\n        }\r\n\r\n        return dispatch({type: UPDATE_FILTERS_NEW, payload: newParams});\r\n    };\r\n}\r\n\r\nexport function updateSorting(payload = null) {\r\n    return async (dispatch) => {\r\n        const { currentTab = 'upcoming' } = payload;\r\n\r\n        let newParams = null;\r\n\r\n        switch (currentTab) {\r\n            case 'upcoming': newParams = await getLotsNew(payload); break;\r\n            case 'past': newParams = await getLotsNew(payload, false, true); break;\r\n            case 'auctions': newParams = await getAuctionsNew(payload); break;\r\n            case 'other': newParams = await getOtherNew(payload); break;\r\n        }\r\n\r\n        return dispatch({type: UPDATE_SORTING, payload: newParams});\r\n    };\r\n}\r\n\r\nexport function updateSearch(payload = null) {\r\n    return async (dispatch) => {\r\n        const { currentTab = 'upcoming' } = payload;\r\n\r\n        let newParams = null;\r\n\r\n        switch (currentTab) {\r\n            case 'upcoming': newParams = await getLotsNew(payload); break;\r\n            case 'past': newParams = await getLotsNew(payload, false, true); break;\r\n            case 'auctions': newParams = await getAuctionsNew(payload); break;\r\n            case 'other': newParams = await getOtherNew(payload); break;\r\n        }\r\n\r\n        return dispatch({type: UPDATE_SEARCH, payload: newParams});\r\n    };\r\n}\r\n\r\nexport function loadMore(payload = null, tab = 'upcoming') {\r\n    return async (dispatch) => {\r\n        let newParams = null;\r\n\r\n        if (payload.page === 0) ++payload.page;\r\n\r\n        switch (tab) {\r\n            case 'upcoming': newParams = await getLotsNew(payload); break;\r\n            case 'past': newParams = await getLotsNew(payload, false, true); break;\r\n            case 'auctions': newParams = await getAuctionsNew(payload); break;\r\n            case 'other': newParams = await getOtherNew(payload); break;\r\n        }\r\n\r\n        return dispatch({type: LOAD_MORE, payload: newParams});\r\n    };\r\n}\r\n\r\nexport function initData() {\r\n    return async (dispatch) => {\r\n        let newParams = await getLotsNew({});\r\n\r\n        return dispatch({type: INIT_DATA, payload: newParams});\r\n    };\r\n}","export const INIT_DATA = \"INIT_DATA\";\r\n// export const GET_CATEGORIES = \"GET_CATEGORIES\";\r\nexport const UPDATE_TAB = \"UPDATE_TAB\";\r\nexport const UPDATE_FILTERS_NEW = \"UPDATE_FILTERS_NEW\";\r\nexport const UPDATE_SORTING = \"UPDATE_SORTING\";\r\nexport const UPDATE_SEARCH = \"UPDATE_SEARCH\";\r\nexport const LOAD_MORE = \"LOAD_MORE\";\r\nexport const UPDATE_ALL_FROM_URL = \"UPDATE_ALL_FROM_URL\";","import {\r\n    INIT_DATA,\r\n    LOAD_MORE,\r\n    UPDATE_ALL_FROM_URL,\r\n    UPDATE_FILTERS_NEW,\r\n    UPDATE_SEARCH,\r\n    UPDATE_SORTING,\r\n    UPDATE_TAB\r\n} from \"../constants/action-types\";\r\n\r\nconst initialState = {\r\n    availableCategories: [],\r\n    // FOR NEW VERSION !!!\r\n    lotsNew: [],\r\n    lotsPast: [],\r\n    auctionsNew: [],\r\n    postsNew: [],\r\n    page: 0,\r\n    dataChanged: false,\r\n\r\n    message: '',\r\n    searchText: '',\r\n    currentTab: 'upcoming',\r\n    selectedCategories: [],\r\n    priceMin: '',\r\n    priceMax: '',\r\n    sorting: '',\r\n    lotsCount: 0,\r\n    pastLotsCount: 0,\r\n    auctionsCount: 0,\r\n    postsCount: 0,\r\n    activeTabCounter: 0,\r\n\r\n    // last filters\r\n    lastLotFilters: {\r\n        categories: [],\r\n        min: '',\r\n        max: '',\r\n    },\r\n    lastPastLotFilters: {\r\n        min: '',\r\n        max: '',\r\n    },\r\n    lastAuctionFilters: {\r\n        categories: [],\r\n    },\r\n    lastPostFilter: {\r\n        categories: [],\r\n    }\r\n};\r\n\r\nconst reduceRefreshedData = (changes = {}, payload) => {\r\n    const { items = [], count = 0, success = false, pageSize = 20, message = null } = payload;\r\n\r\n    if (!success || items.length < pageSize) changes.page = -1;\r\n\r\n    if (success) {\r\n        changes.items = items;\r\n        changes.activeTabCounter = count;\r\n    } else {\r\n        changes.items = [];\r\n        changes.activeTabCounter = 0;\r\n\r\n        if (message) changes.message = message;\r\n    }\r\n\r\n    return changes;\r\n};\r\n\r\nfunction rootReducer(state = initialState, action) {\r\n    switch (action.type) {\r\n        case INIT_DATA: {\r\n            const { currentTab = 'upcoming' } = state;\r\n\r\n            let changes = procNewData(currentTab, state, {}, action.payload);\r\n\r\n            if (currentTab !== state.currentTab) {\r\n                changes.searchText = '';\r\n                changes.selectedCategories= [];\r\n                changes.priceMin= '';\r\n                changes.priceMax= '';\r\n            }\r\n\r\n            return Object.assign({}, state, changes);\r\n        }\r\n        case UPDATE_TAB: {\r\n            const { currentTab = 'upcoming', selectedCategories = [], priceMin = '', priceMax = '' } = action.payload;\r\n\r\n            let changes = procNewData(currentTab, state, {page: 0, currentTab: currentTab}, action.payload);\r\n\r\n            if (currentTab !== state.currentTab) {\r\n                // changes.searchText = '';\r\n                changes.selectedCategories = selectedCategories;\r\n                changes.priceMin = priceMin;\r\n                changes.priceMax = priceMax;\r\n                changes.sorting = '';\r\n            }\r\n\r\n            return Object.assign({}, state, changes);\r\n        }\r\n        case UPDATE_FILTERS_NEW: {\r\n            const { currentTab = 'upcoming' } = state;\r\n\r\n            let changes = procNewData(currentTab, state, {page: 0}, action.payload);\r\n\r\n            return Object.assign({}, state, changes);\r\n        }\r\n        case UPDATE_SORTING: {\r\n            const { currentTab = 'upcoming' } = state;\r\n\r\n            let changes = procNewData(currentTab, state, {page: 0, sorting: action.payload.sorting}, action.payload);\r\n\r\n            return Object.assign({}, state, changes);\r\n        }\r\n        case UPDATE_SEARCH: {\r\n            const { currentTab = 'upcoming' } = state;\r\n\r\n            let changes = procNewData(currentTab, state, {page: 0, searchText: action.payload.searchText}, action.payload);\r\n\r\n            return Object.assign({}, state, changes);\r\n        }\r\n        case LOAD_MORE: {\r\n            let changes = {\r\n                page: state.page + 1\r\n            };\r\n\r\n            const { items = [], success = false, pageSize = 20, message = null, currentTab = 'upcoming' } = action.payload;\r\n\r\n            if (!success || items.length < pageSize) changes.page = -1;\r\n\r\n            if (success) {\r\n                switch (currentTab) {\r\n                    case 'upcoming': {\r\n                        changes.lotsNew = (state.lotsNew && state.lotsNew.length > 0) ? [...state.lotsNew, ...items] : items;\r\n\r\n                        let uniqueItemsObj = changes.lotsNew.reduce( (c, e) => {\r\n                            if (!c[e.ref]) c[e.ref] = e;\r\n                            return c;\r\n                        }, {});\r\n\r\n                        changes.lotsNew = uniqueItemsObj ? Object.values(uniqueItemsObj) : [];\r\n                    } break;\r\n                    case 'past': {\r\n                        changes.lotsPast = (state.lotsPast && state.lotsPast.length > 0) ? [...state.lotsPast, ...items] : items;\r\n\r\n                        let uniqueItemsObj = changes.lotsPast.reduce( (c, e) => {\r\n                            if (!c[e.ref]) c[e.ref] = e;\r\n                            return c;\r\n                        }, {});\r\n\r\n                        changes.lotsPast = uniqueItemsObj ? Object.values(uniqueItemsObj) : [];\r\n                    } break;\r\n                    case 'auctions': changes.auctionsNew = (state.auctionsNew && state.auctionsNew.length > 0) ? [...state.auctionsNew, ...items] : items; break;\r\n                    case 'other': changes.postsNew = (state.postsNew && state.postsNew.length > 0) ? [...state.postsNew, ...items] : items; break;\r\n                }\r\n                delete changes.items;\r\n            } else {\r\n                switch (currentTab) {\r\n                    case 'upcoming': {\r\n                        changes.lotsNew = (state.lotsNew && state.lotsNew.length > 0) ? state.lotsNew: [];\r\n                        if (changes.lotsNew.length === 0 && message) changes.message = message;\r\n                        break;\r\n                    }\r\n                    case 'past': {\r\n                        changes.lotsPast = (state.lotsPast && state.lotsPast.length > 0) ? state.lotsPast: [];\r\n                        if (changes.lotsPast.length === 0 && message) changes.message = message;\r\n                        break;\r\n                    }\r\n                    case 'auctions': {\r\n                        changes.auctionsNew = (state.auctionsNew && state.auctionsNew.length > 0) ? state.auctionsNew: [];\r\n                        if (changes.auctionsNew.length === 0 && message) changes.message = message;\r\n                        break;\r\n                    }\r\n                    case 'other': {\r\n                        changes.postsNew = (state.postsNew && state.postsNew.length > 0) ? state.postsNew: [];\r\n                        if (changes.postsNew.length === 0 && message) changes.message = message;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n\r\n            return Object.assign({}, state, changes);\r\n        }\r\n        case UPDATE_ALL_FROM_URL: {\r\n            const { currentTab = 'upcoming' } = action.payload;\r\n\r\n            let changes = procNewData(currentTab, state, {page: 0}, action.payload);\r\n\r\n            return Object.assign({}, state, action.payload, changes);\r\n        }\r\n        default: {\r\n            return state;\r\n        }\r\n    }\r\n}\r\n\r\nconst procNewData = (currentTab, state, changes, payload) => {\r\n    changes = reduceRefreshedData(changes, payload);\r\n\r\n    const { selectedCategories = [], priceMin = '', priceMax = '' } = payload;\r\n\r\n    changes.availableCategories = state.availableCategories;\r\n\r\n    if (currentTab === 'upcoming' || currentTab === 'past') {\r\n        if (currentTab === 'upcoming' && payload.usedCategories) {\r\n            changes.availableCategories = payload.usedCategories;\r\n        }\r\n\r\n        let uniqueItemsObj = null;\r\n        if (changes.items.length > 0) {\r\n            uniqueItemsObj = changes.items.reduce( (c, e) => {\r\n                if (!c[e.ref]) c[e.ref] = e;\r\n                return c;\r\n            }, {});\r\n        }\r\n\r\n        if (currentTab === 'upcoming') {\r\n            changes.lotsNew = uniqueItemsObj ? Object.values(uniqueItemsObj) : [];\r\n            changes.lotsCount = changes.activeTabCounter;\r\n\r\n            changes.lotsPast = [];\r\n            changes.auctionsNew = [];\r\n            changes.postsNew = [];\r\n\r\n\r\n            changes.selectedCategories = selectedCategories;\r\n            changes.priceMin = priceMin;\r\n            changes.priceMax = priceMax;\r\n\r\n            changes.lastLotFilters = {\r\n                categories: selectedCategories,\r\n                min: priceMin,\r\n                max: priceMax,\r\n            };\r\n        } else {\r\n            changes.lotsPast = uniqueItemsObj ? Object.values(uniqueItemsObj) : [];\r\n            changes.pastLotsCount = changes.activeTabCounter;\r\n\r\n            changes.lotsNew = [];\r\n            changes.auctionsNew = [];\r\n            changes.postsNew = [];\r\n\r\n            changes.lastPastLotFilters = {\r\n                min: priceMin,\r\n                max: priceMax,\r\n            };\r\n        }\r\n    } else if (currentTab === 'auctions') {\r\n        if (payload.usedCategories) {\r\n            changes.availableCategories = payload.usedCategories;\r\n        }\r\n\r\n        let uniqueItemsObj = null;\r\n        if (changes.items.length) {\r\n            uniqueItemsObj = changes.items.reduce( (c, e) => {\r\n                if (!c[e.title]) c[e.title] = e;\r\n                return c;\r\n            }, {});\r\n        }\r\n        changes.auctionsNew = uniqueItemsObj ? Object.values(uniqueItemsObj) : [];\r\n        changes.auctionsCount = changes.activeTabCounter;\r\n\r\n        changes.lotsNew = [];\r\n        changes.lotsPast = [];\r\n        changes.postsNew = [];\r\n\r\n        changes.lastAuctionFilters = {\r\n            categories: selectedCategories,\r\n        };\r\n    } else {\r\n        if (payload.usedCategories) {\r\n            changes.availableCategories = payload.usedCategories;\r\n        }\r\n\r\n        changes.postsNew = [];\r\n        if (changes.items.length) {\r\n            changes.postsNew = changes.items;\r\n        }\r\n        changes.postsCount = changes.activeTabCounter;\r\n\r\n        changes.lotsNew = [];\r\n        changes.lotsPast = [];\r\n        changes.auctionsNew = [];\r\n\r\n        changes.lastPostFilter = {\r\n            categories: selectedCategories,\r\n        }\r\n    }\r\n\r\n    changes.availableCategories = [...new Set(changes.availableCategories)];\r\n\r\n    return changes;\r\n};\r\n\r\nexport default rootReducer;","import {applyMiddleware, compose, createStore} from \"redux\";\r\nimport rootReducer from \"../reducers/index\";\r\nimport thunk from \"redux-thunk\";\r\n\r\nconst storeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst store = createStore(\r\n    rootReducer,\r\n    storeEnhancers(applyMiddleware(thunk))\r\n);\r\n\r\nexport default store;\r\n","import React, { Component } from 'react';\n\nimport Lot from '../Lot/Lot';\nimport LotLoader from '../LotLoader/LotLoader';\nimport {connect} from \"react-redux\";\nimport {loadMore} from '../../actions/index';\nimport store from \"../../store\";\n\nclass LotContainer extends Component {\n\n    constructor(props) {\n        super(props);\n\n        const storeState = store.getState();\n\n        this.state = {\n            loading: true,\n            page: 0,\n            // for detecting changes !!!\n            searchText: storeState.searchText || '',\n            selectedCategories: storeState.selectedCategories || [],\n            priceMin: storeState.priceMin || '',\n            priceMax: storeState.priceMax || '',\n            sorting: storeState.sorting || '',\n        };\n        this._isMounted = false;\n\n        this.loadMore = this.loadMore.bind(this);\n    }\n\n    componentDidMount() {\n        this._isMounted = true;\n    }\n\n    componentWillUnmount() {\n        this._isMounted = false;\n    }\n\n    loadMore(e) {\n        const storeState = store.getState();\n        this.props.loadMore(storeState, storeState.currentTab);\n    }\n\n    render() {\n        let lots = [];\n\n        let show = true;\n\n        if ( this.props.isLoading ) {\n            for (let i = 0; i < 4; i++) {\n                lots.push(<LotLoader key={i}/>);\n            }\n        }\n\n        // restore this when api is ready to work maybe\n        if ( this.props.lots.length && !this.props.isLoading )\n        {\n            lots = this.props.lots.map(item =>\n                <React.Fragment key={'lot_' + item.ref} >\n                    {\n                        <Lot\n                            lot={item}\n                            isPast={false}\n                        />\n                    }\n                </React.Fragment>\n            );\n\n        } else {\n            if ( !this.props.isLoading ) {\n                if(this.props.message){\n                    show = false;\n                }\n            }\n        }\n\n\n        return show ? (\n            <div className=\"px-0 py-1 px-md-4\">\n                {/*<BlockHeader title=\"Upcoming Lots\" />*/}\n\n                <div className=\"row row-spacing\">\n                    {lots}\n                </div>\n\n                {\n                    (this.props.lots.length && this.props.page !== -1) ? (\n                        <div className=\"col-12 text-center\">\n                            {/*change click function to load needed type of lots*/}\n                            <button className=\"btn btn-load-more mt-3 mb-5\" onClick={this.loadMore}>Load More</button>\n                        </div>\n                    ) : ''\n                }\n            </div>\n        ) : '';\n\n    }\n\n}\n\nfunction mapStateToProps(state) {\n    return {\n        lots: state.lotsNew || [],\n        message: state.message,\n        page: state.page,\n    };\n}\n\nexport default connect(\n    mapStateToProps,\n    { loadMore }\n)(LotContainer);","import React from 'react';\r\n\r\nfunction BlockHeader(props) {\r\n\r\n    return (\r\n        <>\r\n            <div className=\"row\">\r\n                <div className=\"col-12\">\r\n                    <header className=\"mb-2\">\r\n                        <h2 className=\"subheading text-uppercase\">{ props.title }</h2>\r\n                    </header>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n\r\n}\r\n\r\nexport default BlockHeader;","import React, {useEffect, useState} from 'react';\n\nimport './Article.css';\nimport FadeIn from \"react-fade-in\";\n\nfunction Article(props) {\n\n    // TODO excerpt !!!\n  const [isMobile, setIsMobile] = useState(false);\n  useEffect(() => {\n    if ( window.innerWidth < 576 ) {\n      setIsMobile(true);\n    } else {\n      setIsMobile(false);\n    }\n  }, []);\n\n    return (\n        <>\n          <div className=\"col-12 col-md-6 col-lg-3 pb-4 search-auction-result anim-search-result lot-container\">\n            <FadeIn>\n              <a href={props.link} target=\"_blank\" rel=\"noopener noreferrer\">\n                <figure className=\"text-center imgContainer\">\n                  {\n                    (props.imgSrc) ? (\n                        <img src={props.imgSrc} alt=\"Text\" className=\"mw-100\" width=\"260\" height=\"250\" />\n                      ) :\n                      <div className=\"emptyPhoto\">\n                        {!isMobile ?\n                          <img\n                            src=\"https://johnmoran.invaluable.com/wp-content/themes/theme-johnmoran/dist/img/moran_grey.png\"\n                            alt=\"LOGO\" className=\"mw-100\" width=\"260\"/> : ''}\n                      </div>\n                  }\n                </figure>\n              </a>\n              <aside className=\"search-lot--content py-4 px-4 text-left\">\n                <a href={props.link} target=\"_blank\" rel=\"noopener noreferrer\">\n                  <h3 className=\"font-weight-normal text-grey title\" dangerouslySetInnerHTML={{__html: props.articleTitle}} />\n                </a>\n                {props.excerpt !== '' && <p className='m-0' dangerouslySetInnerHTML={{__html: `Excerpt: ${props.excerpt}`}} />}\n              </aside>\n            </FadeIn>\n          </div>\n        </>\n    );\n\n}\n\nexport default Article;\n\n// <div className=\"col-12 col-md-6 col-lg-4 grid-item search-article-result anim-search-result\">\n//   <aside className=\"favourite d-flex flex-1 mb-3 bg-white position-relative align-items-center\">\n//     {\n//       (props.imgSrc) ? (\n//         <figure>\n//           <img src={props.imgSrc} alt=\"Event\" width=\"150\" height=\"150\" />\n//         </figure>\n//       ) : ''\n//     }\n//     <div className=\"favourite-content p-3 flex-1\">\n//       <h3 className=\"font-weight-bold\"><a href={props.link} className=\"link-overlay\">{props.articleTitle}</a></h3>\n//       {props.excerpt && <p>excerpt: {props.excerpt}</p>}\n//     </div>\n//   </aside>\n// </div>\n","import React from \"react\"\r\n\r\nconst ArticleLoader = () => (\r\n    <div className=\"col-12 col-md-6 col-lg-4 grid-item search-article-result\">\r\n        <div className=\"ui-placeholder__auctions-wrap\">\r\n            <div className=\"ui fluid placeholder\">\r\n                <div className=\"image header\">\r\n                    <div className=\"line\" />\r\n                    <div className=\"line\" />\r\n                </div>\r\n                <div className=\"paragraph\">\r\n                    <div className=\"line\" />\r\n                    <div className=\"line\" />\r\n                    <div className=\"line\" />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n);\r\n\r\nexport default ArticleLoader;\r\n","import React, {Component} from 'react';\n\nimport BlockHeader from '../BlockHeader/BlockHeader';\nimport Article from '../Article/Article';\nimport store from \"../../store\";\nimport {loadMore} from \"../../actions\";\nimport {connect} from \"react-redux\";\nimport ArticleLoader from \"../ArticleLoader/ArticleLoader\";\n\nclass ArticleContainer extends Component {\n    constructor(props) {\n        super(props);\n\n        const storeState = store.getState();\n\n        this.state = {\n            loading: true,\n            page: 0,\n            // for detecting changes !!!\n            searchText: storeState.searchText || '',\n            selectedCategories: storeState.selectedCategories || [],\n            sorting: storeState.sorting || '',\n        };\n        this._isMounted = false;\n\n        this.loadMore = this.loadMore.bind(this);\n    }\n\n    componentDidMount() {\n        this._isMounted = true;\n    }\n\n    componentWillUnmount() {\n        this._isMounted = false;\n    }\n\n    loadMore(e) {\n        const storeState = store.getState();\n        this.props.loadMore(storeState, storeState.currentTab);\n    }\n\n    render() {\n        let news = [];\n\n        let show = true;\n\n        if ( this.props.isLoading ) {\n            for (let i = 0; i < 4; i++) {\n                news.push(<ArticleLoader key={'news_' + i} />);\n            }\n        }\n\n        if ( this.props.news.length && !this.props.isLoading )\n        {\n            news = this.props.news.map((item, key)=>\n                <Article\n                    key={'article_' + key}\n                    link={item.detailsUrl}\n                    excerpt={item.excerpt}\n                    articleTitle={item.title}\n                    imgSrc={item.photo}\n                />\n            );\n\n        } else {\n            if ( !this.props.isLoading ) {\n                if(this.props.message){\n                    show = false;\n                }\n            }\n        }\n\n\n        return show ? (\n            <div>\n                <BlockHeader title=\"Articles > Other\" />\n\n                <div className=\"row row-spacing\">\n                    {news}\n                </div>\n\n                {\n                    (this.props.news.length && this.props.page !== -1) ? (\n                        <div className=\"col-12 text-center\">\n                            <button className=\"btn btn-load-more mt-3 mb-5\" onClick={this.loadMore}>Load More</button>\n                        </div>\n                    ) : ''\n                }\n            </div>\n        ) : '';\n    }\n\n}\n\nfunction mapStateToProps(state) {\n    return {\n        news: state.postsNew || [],\n        message: state.message,\n        page: state.page,\n    };\n}\n\nexport default connect(\n    mapStateToProps,\n    { loadMore }\n)(ArticleContainer);","import React, { Component } from 'react';\r\nimport './SearchFiltersNew.css';\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faArrowUp, faArrowDown, faArrowRight } from '@fortawesome/free-solid-svg-icons';\r\n\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n  /*getCategories,*/ updateFiltersNew, updateSorting\r\n} from \"../../actions\";\r\nimport store from \"../../store\";\r\n\r\nclass SearchFilters extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const storeState = store.getState();\r\n\r\n    this.state = {\r\n      noResult: true,\r\n      availableCategories: storeState.availableCategories,\r\n      submited: storeState.loading || true,\r\n      isOpen: false, // work\r\n      isMobile: false, // work\r\n      setCategory: [], // work\r\n\r\n      pricemin: storeState.priceMin || '',\r\n      pricemax: storeState.priceMax || '',\r\n      categoriesSaved: storeState.selectedCategories || [],\r\n\r\n      currentTab: storeState.currentTab || 'upcoming',\r\n      sorting: storeState.sorting || '',\r\n      search: storeState.searchText || '',\r\n    };\r\n    this._isMounted = false;\r\n\r\n    this.handleOpenClose = this.handleOpenClose.bind(this);\r\n    this.handleSetMinMax = this.handleSetMinMax.bind(this);\r\n    this.handleCheckboxChange = this.handleCheckboxChange.bind(this);\r\n    this.handleSubmitFilters = this.handleSubmitFilters.bind(this);\r\n    this.handleSortingSelect = this.handleSortingSelect.bind(this);\r\n  }\r\n\r\n  updateUrlParams() {\r\n    const { search = '', currentTab, setCategory = [], pricemin = null, pricemax = null, sorting = null } = this.state;\r\n\r\n    const storeState = store.getState();\r\n\r\n    const difference = storeState.selectedCategories\r\n      .filter(x => !this.state.setCategory.includes(x))\r\n      .concat(this.state.setCategory.filter(x => !storeState.selectedCategories.includes(x)));\r\n\r\n    if (\r\n        storeState.currentTab !== currentTab ||\r\n        storeState.sorting !== sorting ||\r\n        difference.length > 0 ||\r\n        storeState.priceMin !== pricemin ||\r\n        storeState.priceMax !== pricemax\r\n    ) {\r\n      const params = [];\r\n\r\n      if (window.history.pushState) {\r\n        let newUrl = window.location.protocol + \"//\" + window.location.host + window.location.pathname;\r\n\r\n        if (currentTab) params.push('tab=' + currentTab);\r\n        if (search) params.push('search=' + search);\r\n\r\n        if (setCategory.length) {\r\n          params.push('categories=' + setCategory.join(','));\r\n        }\r\n\r\n        if (pricemin) params.push('min_price=' + pricemin);\r\n        if (pricemax) params.push('max_price=' + pricemax);\r\n        if (sorting) params.push('sort=' + sorting);\r\n\r\n        if (params.length) {\r\n          newUrl += '?' + params.join('&');\r\n        }\r\n\r\n        window.history.pushState({path:newUrl},'',newUrl);\r\n\r\n        this.props.loadChanges(() => {\r\n          if (this._isMounted) {\r\n            const storeState = store.getState();\r\n\r\n            if (sorting !== storeState.sorting) {\r\n              store.dispatch(updateSorting(Object.assign(storeState, {sorting: sorting})));\r\n            } else {\r\n              store.dispatch(updateFiltersNew(Object.assign(storeState, {\r\n                selectedCategories: setCategory,\r\n                priceMin: pricemin || '',\r\n                priceMax: pricemax || '',\r\n              }), currentTab));\r\n            }\r\n          }\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this._isMounted = true;\r\n    // this.props.getCategories();\r\n\r\n    const _this = this;\r\n\r\n    store.subscribe(() => {\r\n      const { availableCategories, loading, currentTab, selectedCategories, priceMin, priceMax, sorting, searchText, lotsCount, pastLotsCount, auctionsCount, postsCount } = store.getState();\r\n\r\n      const stateChanges = {\r\n        currentTab: currentTab,\r\n        search: searchText,\r\n        availableCategories: availableCategories,\r\n        categoriesSaved: selectedCategories,\r\n        setCategory: selectedCategories,\r\n        pricemin: priceMin,\r\n        pricemax: priceMax,\r\n        sorting: sorting,\r\n        noResults: (!loading &&\r\n          (\r\n            (currentTab === 'upcoming' && lotsCount === 0) ||\r\n            (currentTab === 'past' && pastLotsCount === 0) ||\r\n            (currentTab === 'auctions' && auctionsCount === 0) ||\r\n            (currentTab === 'other' && postsCount === 0)\r\n          )\r\n        ) || loading,\r\n        // ) || (loading && this.state.currentTab !== currentTab),\r\n      };\r\n\r\n      stateChanges.submited = (!loading && _this.state.submited) ? false : loading;\r\n\r\n      if (this._isMounted) this.setState(stateChanges);\r\n    });\r\n\r\n    if (this._isMounted) {\r\n      if ( window.innerWidth < 576 ) {\r\n        this.setState({isMobile: true});\r\n      } else {\r\n        this.setState({isMobile: false});\r\n      }\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n      this._isMounted = false;\r\n  }\r\n\r\n  categorySelected = categoryId => (this.state.categoriesSaved.indexOf(categoryId.toString()) !== -1);\r\n\r\n  handleOpenClose (e) {\r\n    e.preventDefault();\r\n\r\n    if (this._isMounted) this.setState({isOpen: !this.state.isOpen});\r\n  }\r\n\r\n  handleSetMinMax ({target:{value, name}}) {\r\n    if ( !isNaN(value) && this._isMounted ) {\r\n      this.setState({[name]: value})\r\n    }\r\n  }\r\n\r\n  handleCheckboxChange ({target}) {\r\n    if (this._isMounted) {\r\n      const {setCategory} = this.state;\r\n\r\n      const newCategories = [...setCategory];\r\n      if (target.checked) {\r\n        newCategories.push(target.value.toString());\r\n      } else {\r\n        const idx = setCategory.indexOf(target.value.toString());\r\n\r\n        if (idx !== -1) {\r\n          newCategories.splice(idx, 1);\r\n        }\r\n      }\r\n\r\n      this.setState({setCategory: newCategories, categoriesSaved: newCategories})\r\n    }\r\n  }\r\n\r\n  handleSubmitFilters (e) {\r\n    e.preventDefault();\r\n\r\n    if (this._isMounted) this.updateUrlParams();\r\n  }\r\n\r\n  handleSortingSelect (e) {\r\n    this.setState({sorting: e.target.value}, () => {\r\n      if (this._isMounted)  this.updateUrlParams()\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { noResults, availableCategories, currentTab, pricemin, pricemax, sorting, isOpen, /*isMobile*/ } = this.state;\r\n\r\n    const sortOptions = {\r\n      'upcoming': [\r\n        {\r\n          label: 'Next Sale Date',\r\n          value: 'date||asc'\r\n        },\r\n        {\r\n          label: 'Estimate - Low to High',\r\n          value: 'price||asc'\r\n        },\r\n        {\r\n          label: 'Estimate - High to Low',\r\n          value: 'price||desc'\r\n        }\r\n      ],\r\n      'past': [\r\n        {\r\n          label: 'Past Sale Date',\r\n          value: 'date||desc'\r\n        },\r\n        {\r\n          label: 'Sold Price - Low to High',\r\n          value: 'price||asc'\r\n        },\r\n        {\r\n          label: 'Sold Price - High to Low',\r\n          value: 'price||desc'\r\n        }\r\n      ],\r\n      'auctions': [\r\n        {\r\n          label: 'Date',\r\n          value: 'date||asc'\r\n        },\r\n        {\r\n          label: 'Title',\r\n          value: 'title||asc'\r\n        },\r\n      ],\r\n      'other': [\r\n        {\r\n          label: 'Recent',\r\n          value: 'date||desc'\r\n        },\r\n        {\r\n          label: 'Title',\r\n          value: 'title||asc'\r\n        },\r\n      ],\r\n    };\r\n\r\n    const currentSortOptions = sortOptions[currentTab];\r\n\r\n    return (\r\n        <>\r\n            <div className=\"pt-4 search-filter\">\r\n                <div className=\"d-flex justify-content-center justify-content-sm-between align-items-end\">\r\n                    <button className=\"py-2 px-4 text-uppercase font-weight-extra-bold\" onClick={this.handleOpenClose}>Filter <FontAwesomeIcon className=\"ml-3\" icon={isOpen ? faArrowUp : faArrowDown}/></button>\r\n                    {\r\n                        // !isMobile ?\r\n                            (<select onChange={this.handleSortingSelect} value={sorting}>\r\n                                <option value=\"\" disabled>Sort by</option>\r\n                                {\r\n                                    currentSortOptions.map(opt => (\r\n                                        <option key={opt.value} value={opt.value}>{opt.label}</option>\r\n                                    ))\r\n                                }\r\n                            </select>)\r\n                            // : \"\"\r\n                    }\r\n                </div>\r\n                {\r\n                    isOpen &&\r\n                    <div className=\"col-12 pt-4 px-0 d-flex justify-content-center justify-content-md-between flex-wrap filter-container\">\r\n                        {\r\n                            (currentTab === 'upcoming' || currentTab === 'past') && (\r\n                                <div className=\"col-12 col-md-3 col-lg-2 pb-3 pb-md-0 px-md-0\">\r\n                                    <input type=\"text\" placeholder=\"Min price\" value={pricemin} onChange={this.handleSetMinMax} name=\"pricemin\" className=\"col-12 mb-2 py-1 px-3\" />\r\n                                    <input type=\"text\" placeholder=\"Max price\" value={pricemax} onChange={this.handleSetMinMax} name=\"pricemax\" className=\"col-12 py-1 px-3\" />\r\n                                </div>\r\n                            )\r\n                        }\r\n\r\n                        <div className=\"col-12 col-md-9 d-flex flex-wrap\">\r\n                            {\r\n                                (currentTab !== 'past' && !noResults) && availableCategories.map(item => (\r\n                                    <div className=\"ui checkbox col-12 col-lg-4 col-md-6 pb-2\" key={'category_' + item.id}>\r\n                                        <input\r\n                                            type=\"checkbox\"\r\n                                            id={'category_' + item.id}\r\n                                            // defaultChecked={this.categorySelected(item.replaceAll(' ','-'))}\r\n                                            checked={this.categorySelected(item.id)}\r\n                                            value={item.id}\r\n                                            onChange={this.handleCheckboxChange}\r\n                                        />\r\n                                        <label htmlFor={'category_' + item.id} dangerouslySetInnerHTML={{__html: item.name}} />\r\n                                    </div>\r\n                                ))\r\n                            }\r\n                        </div>\r\n                        <div className=\"col-12 d-flex justify-content-center p-3\">\r\n                            <button type=\"submit\" className=\"py-2 px-4 text-uppercase font-weight-extra-bold\" onClick={this.handleSubmitFilters}>Apply filters <FontAwesomeIcon className=\"ml-3\" icon={faArrowRight}/></button>\r\n                        </div>\r\n                    </div>\r\n                }\r\n            </div>\r\n        </>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n      availableCategories: state.availableCategories\r\n  };\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { /*getCategories*/ }\r\n)(SearchFilters);\r\n","import React, {Component} from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faSearch } from '@fortawesome/free-solid-svg-icons';\n\nimport Loader from 'react-loader-spinner';\n\nimport './SearchBar.css';\nimport store from \"../../store\";\nimport {updateSearch} from \"../../actions\"; //  getAuctions, getEvents,\n\nimport SearchFiltersNew from '../SearchFiltersNew/SearchFiltersNew';\n\n// import data from '../../requestApi.json';\n\nclass SearchBar extends Component {\n\n    constructor(props) {\n        super(props);\n\n        const storeState = store.getState();\n\n        this.loadingsAfterMount = 0;\n        this.state = {\n            searchFiltersActive: true,\n            query: '',\n            submited: false,\n            count: 1, // delete this when api return count of lots,\n            // currentTab: storeState.currentTab || this.props.openTabs || 'upcoming',\n            currentTab: this.props.openTabs || storeState.currentTab || 'upcoming',\n            sorting: storeState.sorting || '',\n            categories: storeState.selectedCategories || [],\n            pricemin: storeState.priceMin || '',\n            pricemax: storeState.priceMax || '',\n\n            lotsCount: storeState.lotsCount || 0,\n            pastLotsCount: storeState.pastLotsCount || 0,\n            auctionsCount: storeState.auctionsCount || 0,\n            postsCount: storeState.postsCount || 0,\n        };\n        this._isMounted = false;\n\n        this.delay = 0;\n\n        this.handleSearchSubmit = this.handleSearchSubmit.bind(this);\n        this.showSearchFilters = this.showSearchFilters.bind(this);\n    }\n\n    toggleFilter(menu_btn) {\n        const el = document.getElementById('searchBox');\n\n        if(el && el.classList.contains('show')){\n            menu_btn.classList.remove('open');\n            menu_btn.querySelector('#to_open').style.display = \"block\";\n        }\n        else{\n            menu_btn.classList.add('open');\n            menu_btn.querySelector('#to_open').style.display = \"none\";\n        }\n    }\n\n    componentDidMount() {\n        this._isMounted = true;\n        const menu_btn = document.getElementById('menu_search_form_btn');\n\n        if(menu_btn){\n            menu_btn.querySelector('#to_open').style.display = \"none\";\n\n            menu_btn.addEventListener('click', e => this.toggleFilter(menu_btn));\n        }\n\n        const _this = this;\n\n        store.subscribe(() => {\n            if (_this._isMounted) {\n                const {\n                    searchText,\n                    sorting,\n                    loading,\n                    currentTab,\n                    selectedCategories,\n                    priceMin,\n                    priceMax,\n\n                    lotsCount,\n                    pastLotsCount,\n                    auctionsCount,\n                    postsCount\n                } = store.getState();\n\n                if (_this._isMounted && _this.loadingsAfterMount < 2) {\n                    ++_this.loadingsAfterMount\n                }\n\n                const stateChanges = {\n                    query: searchText,\n                    // currentTab: currentTab,\n                    // currentTab: _this.props.openTabs || currentTab,\n                    currentTab: (_this.loadingsAfterMount !== 2) ? _this.props.openTabs || currentTab : currentTab,\n                    sorting: sorting,\n                    categories: selectedCategories,\n                    pricemin: priceMin,\n                    pricemax: priceMax,\n                    lotsCount: lotsCount,\n                    pastLotsCount: pastLotsCount,\n                    auctionsCount: auctionsCount,\n                    postsCount: postsCount,\n                };\n\n                if(!loading && _this.state.submited){\n                    stateChanges.submited = false;\n                }\n\n                this.setState(stateChanges);\n            }\n        });\n    }\n\n    // componentDidUpdate(prevProps) {\n    //     // if (prevProps.text !== this.props.text) {\n    //     //     this.updateAndNotify();\n    //     // }\n    //     this.setState({currentTab: this.props.openTabs});\n    // }\n\n    componentWillUnmount() {\n        this._isMounted = false;\n\n        const menu_btn = document.getElementById('menu_search_form_btn');\n        if (menu_btn) {\n            menu_btn.removeEventListener('click', e => this.toggleFilter(menu_btn));\n        }\n    }\n\n    handleSearchSubmit = (e) => {\n        e.preventDefault();\n\n        const {\n            currentTab,\n            query,\n            sorting,\n            categories,\n            pricemin,\n            pricemax\n        } = this.state;\n\n        const storeState = store.getState();\n\n        if (\n            storeState.currentTab !== currentTab ||\n            storeState.searchText !== query ||\n            storeState.sorting !== sorting ||\n            storeState.priceMin !== pricemin ||\n            storeState.priceMax !== pricemax\n        ) {\n            if (window.history.pushState) {\n                let newUrl = window.location.protocol + \"//\" + window.location.host + window.location.pathname;\n                const params = [];\n\n                if (currentTab) params.push('tab=' + currentTab);\n                if (query) params.push('search=' + query);\n\n                if (categories.length) {\n                    params.push('categories=' + categories.join(','));\n                }\n\n                if (pricemin) params.push('min_price=' + pricemin);\n                if (pricemax) params.push('max_price=' + pricemax);\n                if (sorting) params.push('sort=' + sorting);\n\n                if (params.length) {\n                    newUrl += '?' + params.join('&');\n                }\n\n                window.history.pushState({path:newUrl},'',newUrl);\n            }\n\n            this.props.loadChanges(() => {\n                if (this._isMounted) {\n                    store.dispatch(updateSearch(Object.assign(store.getState(), {searchText: query })));\n                }\n            });\n        }\n    };\n\n    showSearchFilters = (e) => {\n        const menu_btn = document.getElementById('menu_search_form_btn');\n\n        menu_btn.classList.add('open');\n    };\n\n\n    render() {\n        const {\n            currentTab,\n            lotsCount,\n            pastLotsCount,\n            auctionsCount,\n            postsCount\n        } = this.state;\n\n        return (\n            <>\n                {\n                    // this.state.submited ? (\n                    this.props.isLoading ? (\n                        <div className=\"preloader-blur\">\n                            <Loader\n                                type=\"ThreeDots\"\n                                color=\"#8C2828\"\n                                height={50}\n                                width={50}\n                                timeout={100000}\n                            />\n                        </div>\n                    ) : ''\n                }\n\n                <div className=\"collapse h-site-search--search-wrap show\" id=\"searchBox\"> {/*position - fixed  searchBox change id to remove action hide filter block*/}\n\n                    <section className=\"searchBox h-site-search--search p-0 pt-4 px-md-4 pt-md-5\">\n\n                        <form action=\"/\" className=\"h-site-search--form\">\n                            <div className=\"container\">\n                                <div className=\"column justify-content-center\">\n\n                                    <div className=\"mx-auto pb-5 col-12 col-md-6 col-lg-6 col-xl-4 form-group form-item h-form-group h-form-item d-flex flex-column flex-lg-row align-items-lg-center\">\n                                        <div className=\"ui icon input\">\n                                            <label htmlFor=\"search\" className=\"sr-only\">Search Auctions/Lots</label>\n                                            <input type=\"text\" id=\"search\" className=\"form-control h-form-control\" placeholder=\"Enter the terms you wish to search for\" value={this.state.query} onChange={e => this.setState({query: e.target.value})} />\n                                            <button type=\"submit\" className=\"position-relative w-25\" onClick={this.handleSearchSubmit}><FontAwesomeIcon icon={faSearch} size=\"sm\" /></button>\n                                        </div>\n                                    </div>\n\n                                    <div className=\"tabs mx-auto col-12 d-flex justify-content-center\">\n                                        {/*when click save type of lots and get request to api and save to redux*/}\n                                        <button\n                                          className={'text-uppercase py-2 px-lg-5 mr-md-3 mr-2 px-md-2' + (currentTab === 'upcoming' ? ' active' : '')}\n                                          name=\"upcoming\"\n                                          onClick={this.props.handleTabSelect}>\n                                            Upcoming {(lotsCount && currentTab === 'upcoming' && `(${lotsCount})`) || ''} {/*get data from redux store about count of lots (count field)*/}\n                                        </button>\n                                        <button\n                                          className={'text-uppercase py-2 px-lg-5 mr-md-3 mr-2 px-md-2' + (currentTab === 'past' ? ' active' : '')}\n                                          name=\"past\"\n                                          onClick={this.props.handleTabSelect}>\n                                            Past {(pastLotsCount && currentTab === 'past' && `(${pastLotsCount})`) || ''} {/*get data from redux store about count of lots (count field)*/}\n                                        </button>\n                                        <button\n                                          className={'text-uppercase py-2 px-lg-5 mr-md-3 mr-2 px-md-2' + (currentTab === 'auctions' ? ' active' : '')}\n                                          name=\"auctions\"\n                                          onClick={this.props.handleTabSelect}>\n                                            Auctions {(auctionsCount && currentTab === 'auctions' && `(${auctionsCount})`) || ''} {/*get data from redux store about count of lots (count field)*/}\n                                        </button>\n                                        <button\n                                          className={'text-uppercase py-2 px-lg-5 mr-md-3 mr-2 px-md-2' + (currentTab === 'other' ? ' active' : '')}\n                                          name=\"other\"\n                                          onClick={this.props.handleTabSelect}>\n                                            Other {(postsCount && currentTab === 'other' && `(${postsCount})`) || ''} {/*get data from redux store about count of lots (count field)*/}\n                                        </button>\n                                    </div>\n\n                                    <SearchFiltersNew loadChanges={this.props.loadChanges} />\n                                </div>\n                            </div>\n                        </form>\n\n                    </section>\n\n                </div>\n\n            </>\n        );\n    }\n\n\n\n}\n\nexport default SearchBar;\n","import React from 'react';\nimport SearchBar from '../SearchBar/SearchBar';\n\n\nimport './SearchBox.css';\n\nfunction SearchBox({handleTabSelect, isLoading, loadChanges, openTabs}) {\n\n    return (\n        <div>\n            <SearchBar handleTabSelect={handleTabSelect} isLoading={isLoading} loadChanges={loadChanges} openTabs={openTabs} />\n        </div>\n    );\n\n}\n\nexport default SearchBox;\n","import React, { Component } from 'react';\n\nimport '../LotContainer/LotContainer.css'\n\nimport BlockHeader from '../BlockHeader/BlockHeader';\nimport Lot from '../Lot/Lot';\nimport LotLoader from '../LotLoader/LotLoader';\nimport {connect} from \"react-redux\";\nimport {loadMore} from '../../actions/index';\nimport store from \"../../store\";\n\nclass LotContainer extends Component {\n\n    constructor(props) {\n        super(props);\n\n        const storeState = store.getState();\n\n        this.state = {\n            loading: true,\n            page: 0,\n            // for detecting changes !!!\n            searchText: storeState.searchText || '',\n            selectedCategories: storeState.selectedCategories || [],\n            priceMin: storeState.priceMin || '',\n            priceMax: storeState.priceMax || '',\n            sorting: storeState.sorting || '',\n        };\n        this._isMounted = false;\n\n        this.loadMore = this.loadMore.bind(this);\n    }\n\n    componentDidMount() {\n        this._isMounted = true;\n    }\n\n    componentWillUnmount() {\n        this._isMounted = false;\n    }\n\n    loadMore(e) {\n        const storeState = store.getState();\n        this.props.loadMore(storeState, storeState.currentTab);\n    }\n\n    render() {\n        let pastLots = [];\n\n        let show = true;\n\n        if ( this.props.isLoading ) {\n            for (let i = 0; i < 4; i++) {\n                pastLots.push(<LotLoader key={i} />);\n            }\n        }\n\n        if ( this.props.pastLots.length && !this.props.isLoading )\n        {\n            pastLots = this.props.pastLots.map(item =>\n                <React.Fragment key={'past_lot_' + item.ref}>\n                    {\n                        <Lot\n                            lot={item}\n                            isPast={true}\n                        />\n                    }\n                </React.Fragment>\n            );\n\n        } else {\n            if ( !this.props.isLoading ) {\n                if(this.props.message){\n                    show = false;\n                }\n            }\n        }\n\n        return show ? (\n            <div>\n                <BlockHeader title=\"Past Lots\" />\n\n                <div className=\"row row-spacing\">\n                    {pastLots}\n                </div>\n\n                {\n                    (this.props.pastLots.length && this.props.page !== -1) ? (\n                        <div className=\"col-12 text-center\">\n                            <button className=\"btn btn-load-more mt-3 mb-5\" onClick={this.loadMore}>Load More</button>\n                        </div>\n                    ) : ''\n                }\n            </div>\n        ) : '';\n\n    }\n\n}\n\nfunction mapStateToProps(state) {\n    return {\n        pastLots: state.lotsPast || [],\n        message: state.message,\n        page: state.page,\n    };\n}\n\nexport default connect(\n    mapStateToProps,\n    { loadMore }\n)(LotContainer);","import React, {useEffect, useState} from 'react';\r\nimport './Auction.css';\r\nimport FadeIn from \"react-fade-in\";\r\n\r\nconst days = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\r\nconst months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\r\n\r\nfunction getDate(datetime) {\r\n    return `${days[datetime.getDay()]}, ${months[datetime.getMonth()]} ${datetime.getDate()}, ${datetime.getFullYear()}`;\r\n}\r\n\r\n\r\nfunction Auction(props) {\r\n    const dateT = new Date(props.datetime * 1000);\r\n\r\n    let date = getDate(dateT);\r\n    let time = dateT.toLocaleTimeString('en-US');\r\n\r\n    const [isMobile, setIsMobile] = useState(false);\r\n    useEffect(() => {\r\n        if ( window.innerWidth < 576 ) {\r\n            setIsMobile(true);\r\n        } else {\r\n            setIsMobile(false);\r\n        }\r\n    }, []);\r\n\r\n    const addr = props.location;\r\n    let addrShow = addr.city + (addr.state ? ', ' + addr.state : '');\r\n\r\n    // <div className=\"col-12 col-lg-6 search-auction-result anim-search-result\">\r\n    return (\r\n        <>\r\n            <div className=\"col-12 col-md-6 col-lg-3 pb-4 search-auction-result anim-search-result lot-container\">\r\n                <FadeIn>\r\n                    <a href={props.link} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                        <figure className=\"text-center imgContainer\">\r\n                            {\r\n                                (props.imgSrc) ? (\r\n                                    <img src={props.imgSrc} alt=\"Text\" className=\"mw-100\" width=\"260\" height=\"250\" />\r\n                                  ) :\r\n                                  <div className=\"emptyPhoto\">\r\n                                      {!isMobile ?\r\n                                        <img\r\n                                          src=\"https://johnmoran.invaluable.com/wp-content/themes/theme-johnmoran/dist/img/moran_grey.png\"\r\n                                          alt=\"LOGO\" className=\"mw-100\" width=\"260\"/> : ''}\r\n                                  </div>\r\n                            }\r\n                        </figure>\r\n                    </a>\r\n                    <aside className=\"search-lot--content py-4 px-4 text-left\">\r\n                        <a href={props.link} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                            <h3 className=\"font-weight-normal text-grey title\" dangerouslySetInnerHTML={{__html: props.title}} />\r\n                            {props.title && <h4 className=\"my-3 font-weight-normal subtitle\"><u dangerouslySetInnerHTML={{__html: addrShow}} /></h4>}\r\n                        </a>\r\n                        {date !== '' && <p className='m-0'>{date}</p>}\r\n                        {time !== '' && <p className='m-0'>{time}</p>}\r\n                    </aside>\r\n                </FadeIn>\r\n            </div>\r\n\r\n        </>\r\n    );\r\n\r\n}\r\n\r\nexport default Auction;\r\n\r\n","import React from \"react\"\r\n\r\nconst AuctionLoader = () => (\r\n    <div className=\"col-12 col-lg-6 mt-3 search-auction-result\">\r\n        <div className=\"ui-placeholder__auctions-wrap\">\r\n            <div className=\"ui fluid placeholder\">\r\n                <div className=\"image header\">\r\n                    <div className=\"line\" />\r\n                    <div className=\"line\" />\r\n                </div>\r\n                <div className=\"paragraph\">\r\n                    <div className=\"line\" />\r\n                    <div className=\"line\" />\r\n                    <div className=\"line\" />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n);\r\n\r\nexport default AuctionLoader;\r\n","import React, {Component} from 'react';\n\nimport BlockHeader from '../BlockHeader/BlockHeader';\nimport Auction from '../Auction/Auction';\nimport {connect} from \"react-redux\";\nimport {loadMore} from '../../actions/index';\nimport store from \"../../store\";\nimport AuctionLoader from \"../AuctionLoader/AuctionLoader\";\n\nclass AuctionsContainer extends Component {\n    constructor(props) {\n        super(props);\n\n        const storeState = store.getState();\n\n        this.state = {\n            loading: true,\n            page: 0,\n            // for detecting changes !!!\n            searchText: storeState.searchText || '',\n            selectedCategories: storeState.selectedCategories || [],\n            sorting: storeState.sorting || '',\n        };\n        this._isMounted = false;\n\n        this.loadMore = this.loadMore.bind(this);\n    }\n\n    componentDidMount() {\n        this._isMounted = true;\n    }\n\n    componentWillUnmount() {\n        this._isMounted = false;\n    }\n\n    loadMore(e) {\n        const storeState = store.getState();\n        this.props.loadMore(storeState, storeState.currentTab);\n    }\n\n    render() {\n        let auctions = [];\n\n        if ( this.props.isLoading ) {\n            for (let i = 0; i < 4; i++) {\n                auctions.push(<AuctionLoader key={'auction_' + i} />);\n            }\n        }\n\n        if ( this.props.auctions.length && !this.props.isLoading )\n        {\n            auctions = this.props.auctions.map((item, key) =>\n                <Auction\n                    key={'auction_' + key}\n                    auctionId={item.id}\n                    location={item.location}\n                    link={item.permalink}\n                    title={item.title}\n                    datetime={item.date}\n                    imgSrc={item.photo}\n                />\n            );\n\n        } else {\n            if ( !this.props.isLoading ) {\n                if(this.props.message){\n                    auctions = <p className=\"error-message\">{this.props.message}</p>;\n                }\n            }\n        }\n\n\n        return (\n            <div>\n                <BlockHeader title=\"Auctions\" />\n\n                <div className=\"row row-spacing\">\n                    {auctions}\n                </div>\n\n                {\n                    (this.props.page !== -1) ? (\n                        <div className=\"col-12 text-center\">\n                            <button className=\"btn btn-load-more mt-3 mb-5\" onClick={this.loadMore}>Load More</button>\n                        </div>\n                    ) : ''\n                }\n            </div>\n        );\n    }\n\n}\n\nfunction mapStateToProps(state) {\n    return {\n        auctions: state.auctionsNew || [],\n        message: state.message,\n        page: state.page,\n    };\n}\n\nexport default connect(\n    mapStateToProps,\n    { loadMore }\n)(AuctionsContainer);","import React, {Component} from 'react';\n\nimport LotContainer from './components/LotContainer/LotContainer';\nimport ArticleContainer from './components/ArticleContainer/ArticleContainer';\nimport SearchBox from './components/SearchBox/SearchBox';\n\nimport './App.css';\n\nimport { Provider } from 'react-redux';\nimport store from './store/index';\nimport {\n    loadMore,\n    updateTab,\n    updateFromURL, initData\n} from './actions/index';\nimport PastLotContainer from \"./components/PastLotContainer/PastLotContainer\";\nimport AuctionsContainer from \"./components/AuctionsContainer/AuctionsContainer\";\n\nwindow.store = store;\nwindow.loadMore = loadMore;\nwindow.updateTab = updateTab;\nwindow.initData = initData;\n\nclass App extends Component{\n    constructor(props) {\n        super(props);\n\n        const params = this.parseUrl();\n\n        this.state = {\n            loading: true,\n            noResults: false,\n            openTabs: params.tab || 'upcoming'\n        };\n\n        this.handleTabSelect = this.handleTabSelect.bind(this);\n        this.applyChangesLoading = this.applyChangesLoading.bind(this);\n        this._isMounted = false;\n    }\n\n    parseUrl() {\n        const url = window.location.search;\n        if (!url) return {};\n\n        let query = url.substr(1);\n        let result = {};\n        query.split(\"&\").forEach(function(part) {\n            let item = part.split(\"=\");\n            result[item[0]] = decodeURIComponent(item[1]);\n        });\n        return result;\n    }\n\n    getFiltersFromUrlParams(params) {\n        if (!params) params = this.parseUrl();\n\n        const { tab = 'upcoming', search = '', categories = null, min_price = '', max_price = '', sort = '' } = params;\n\n        const changes = {\n            selectedCategories: categories ? categories.split(',') : [],\n            priceMin: min_price,\n            priceMax: max_price,\n        };\n\n        if (this.state.currentTab !== tab) {\n            changes.currentTab = tab;\n        }\n        if (this.state.search !== search) {\n            changes.searchText = search;\n        }\n        if (this.state.sorting !== sort) {\n            changes.sorting = sort\n        }\n\n        if (this._isMounted) this.setState({loading: true}, () => {\n            if (this._isMounted) {\n                store.dispatch( updateFromURL(Object.assign(store.getState(), changes)) );\n            }\n        });\n    }\n\n\n    updateUrlParams() {\n        const { openTabs = 'upcoming' } = this.state;\n        const {\n            currentTab = 'upcoming',\n            searchText = '',\n            lastLotFilters = null,\n            lastPastLotFilters = null,\n            lastAuctionFilters = null,\n            lastPostFilter = null\n        } = store.getState();\n\n        if (openTabs !== currentTab) {\n            let lastFilters = null;\n            switch (openTabs) {\n                case 'upcoming': lastFilters = lastLotFilters; break;\n                case 'past': lastFilters = lastPastLotFilters; break;\n                case 'auctions': lastFilters = lastAuctionFilters; break;\n                case 'other': lastFilters = lastPostFilter; break;\n            }\n\n            const filterChanges = {\n                selectedCategories: (lastFilters.hasOwnProperty('categories') && lastFilters['categories'].length) ? lastFilters['categories'] : [],\n                priceMin: (lastFilters.hasOwnProperty('min') && lastFilters['min'] !== '') ? lastFilters['min'] : '',\n                priceMax: (lastFilters.hasOwnProperty('max') && lastFilters['max'] !== '') ? lastFilters['max'] : '',\n            };\n\n            if (window.history.pushState) {\n                let newUrl = window.location.protocol + \"//\" + window.location.host + window.location.pathname;\n                const params = [];\n\n                if (openTabs) params.push('tab=' + openTabs);\n                if (searchText) params.push('search=' + searchText);\n\n                if (filterChanges.selectedCategories.length) {\n                    params.push('categories=' + filterChanges.selectedCategories.join(','))\n                }\n                if (filterChanges.priceMin !== '') params.push('min_price=' + filterChanges.priceMin);\n                if (filterChanges.priceMax !== '') params.push('max_price=' + filterChanges.priceMax);\n\n                if (params.length) {\n                    newUrl += '?' + params.join('&');\n                }\n                window.history.pushState({path:newUrl},'',newUrl);\n            }\n\n            store.dispatch(updateTab({currentTab: openTabs, searchText: searchText, ...filterChanges}));\n        }\n    }\n\n    componentDidMount() {\n        this._isMounted = true;\n\n        const params = this.parseUrl();\n        if (Object.keys(params).length > 0) {\n            this.getFiltersFromUrlParams(params);\n        } else {\n            store.dispatch( initData() );\n        }\n\n        this.setState({\n            openTabs: this.state.openTabs || 'upcoming'\n        });\n\n        store.subscribe(() => {\n            if (this._isMounted) {\n                const {\n                    currentTab,\n                    lotsCount = 0,\n                    pastLotsCount = 0,\n                    auctionsCount = 0,\n                    postsCount = 0,\n\n                    message = '',\n                } = store.getState();\n\n                this.setState({\n                    loading: false,\n                    noResults: (\n                        message !== '' &&\n                        (\n                            (currentTab === 'upcoming' && lotsCount === 0) ||\n                            (currentTab === 'past' && pastLotsCount === 0) ||\n                            (currentTab === 'auctions' && auctionsCount === 0) ||\n                            (currentTab === 'other' && postsCount === 0)\n                        )\n                    ),\n                    openTabs: currentTab\n                })\n            }\n        });\n\n        window.addEventListener('popstate', (event) => {\n            if (this._isMounted && !this.state.loading) {\n                this.getFiltersFromUrlParams();\n            }\n        });\n    }\n\n    componentWillUnmount() {\n        this._isMounted = false;\n        window.removeEventListener('popstate', () => {\n            if(this._isMounted && !this.state.loading) this.getFiltersFromUrlParams();\n        });\n    }\n\n    handleTabSelect (e) {\n        e.preventDefault();\n\n        if (e.target.name !== this.state.openTabs) {\n            this.setState({openTabs: e.target.name, loading: true}, () => {\n                if (this._isMounted) this.updateUrlParams();\n            });\n        }\n    }\n\n    applyChangesLoading (callback) {\n        this.setState({loading: true}, () => {\n            if (this._isMounted) callback();\n        });\n    }\n\n    switchTabRenderer () {\n        const { openTabs = 'upcoming', loading = false } = this.state;\n\n        switch (openTabs) {\n            case 'upcoming': return <LotContainer isLoading={loading} />;\n            case 'past': return <PastLotContainer isLoading={loading} />;\n            case 'auctions': return <AuctionsContainer isLoading={loading} />;\n            case 'other': return <ArticleContainer isLoading={loading} />;\n            default: return '';\n        }\n    }\n\n    render() {\n        const { noResults, loading, openTabs } = this.state;\n\n        return (\n            <div className=\"App\">\n                <Provider store={store}>\n                    <SearchBox handleTabSelect={this.handleTabSelect} isLoading={loading} loadChanges={this.applyChangesLoading} openTabs={openTabs} />\n\n                    <main className=\"main-content\">\n                        <section className=\"section\">\n\n                            <div className=\"container\">\n                                {\n                                    noResults ? (<p className=\"error-message\">No results</p>) : this.switchTabRenderer()\n                                }\n                            </div>\n\n                        </section>\n                    </main>\n                </Provider>\n            </div>\n        );\n    }\n\n}\n\nexport default App;","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nimport \"react-app-polyfill/ie11\";\r\nimport \"react-app-polyfill/stable\";\r\n\r\nimport 'jquery/dist/jquery.min.js'\r\nimport 'popper.js';\r\nimport 'bootstrap/dist/js/bootstrap';\r\n\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}