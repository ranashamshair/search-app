(this["webpackJsonpsearch-app"]=this["webpackJsonpsearch-app"]||[]).push([[0],{211:function(e,t,a){e.exports=a(469)},216:function(e,t,a){},218:function(e,t,a){},240:function(e,t,a){},262:function(e,t,a){},263:function(e,t,a){},264:function(e,t,a){},265:function(e,t,a){},266:function(e,t,a){},267:function(e,t,a){},469:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(97),o=a.n(s),i=(a(216),a(64)),c=a(23),l=a(24),u=a(26),p=a(25),m=a(14),d=a(27),h=a(63),g=a(62),b=a.n(g),v=(a(218),["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]),f=["January","February","March","April","May","June","July","August","September","October","November","December"];var y=function(e){var t=e.lot,a=t.ref,s=t.title,o=t.photo,i=t.currencySymbol,c=t.saleDate,l=t.estimate,u=t.estimateLow,p=t.lotNumber,m=t.bid,d=t.lotNumberExtension,g=t.priceResult,y=s.replace(/ /g,"-"),w="/auction-lot/".concat(y,"_").concat(a),x=Object(n.useState)(!1),E=Object(h.a)(x,2),N=E[0],C=E[1];Object(n.useEffect)((function(){window.innerWidth<576?C(!0):C(!1)}),[]);var M=((u||l)&&i||"")+" "+(u&&l&&"".concat(u," - ").concat(l)||u||l||"");return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"col-12 col-md-6 col-lg-3 pb-4 lot-container"},r.a.createElement(b.a,null,r.a.createElement("a",{href:w,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("figure",{className:"text-center imgContainer"},o?r.a.createElement("img",{src:o,alt:"Text",className:"mw-100",width:"260",height:"250"}):r.a.createElement("div",{className:"emptyPhoto"},N?"":r.a.createElement("img",{src:"https://johnmoran.invaluable.com/wp-content/themes/theme-johnmoran/dist/img/moran_grey.png",alt:"LOGO",className:"mw-100",width:"260"})))),r.a.createElement("aside",{className:"search-lot--content py-4 px-4 text-left"},r.a.createElement("a",{href:w,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("h3",{className:"font-weight-normal text-grey title",dangerouslySetInnerHTML:{__html:s}})),""!==M&&r.a.createElement("p",{className:"m-0"},"Estimate: ",M),p&&r.a.createElement("p",{className:"m-0"},"Lot number: ",p," ",e.isPast&&d||""),m&&r.a.createElement("p",{className:"m-0"},"Bid: ",m)||"",c&&r.a.createElement("p",{className:"m-0"},"Sale date: ",function(e){var t=new Date(e);return"".concat(v[t.getDay()],", ").concat(f[t.getMonth()]," ").concat(t.getDate(),", ").concat(t.getFullYear())}(c))||"",e.isPast&&r.a.createElement("p",{className:"m-0"},"Result price: ",g&&(i||"")+" "+g||"Unsold")))))},w=a(207),x=function(){return r.a.createElement(w.a,{speed:2,width:400,height:475,viewBox:"0 0 400 475",backgroundColor:"#bdbdbd",foregroundColor:"#dadcdd"},r.a.createElement("rect",{x:"-149",y:"-167",rx:"2",ry:"2",width:"452",height:"452"}))},E=a(35),N=a(15),C=a.n(N),M=a(41),k=a(99),O=a.n(k),T="/wp-json",S={headers:{id:"s2DUnuzU3TVfk44ZNp"}},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(""===e){if(!t)return"";switch(t){case"upcoming":return"sort_by=date&sort_order=asc";case"past":return"sort_by=date&sort_order=desc";case"auctions":return"sort_by=date&sort_order=asc";case"other":return"sort_by=date&sort_order=desc";default:return""}}var a=e.split("||");return"sort_by=".concat(a[0],"&sort_order=").concat(a[1])},j=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=e.searchText,n=void 0===a?null:a,r=e.selectedCategories,s=void 0===r?[]:r,o=e.priceMin,i=void 0===o?null:o,c=e.priceMax,l=void 0===c?null:c,u=e.pageSize,p=void 0===u?20:u,m=e.page,d=void 0===m?0:m,h=e.sorting,g=void 0===h?"":h,b=[];n&&b.push("keyword="+n),(i||l)&&(i&&!l?(b.push("pricemin="+i),b.push("pricemax=99999")):!i&&l?(b.push("pricemin=0"),b.push("pricemax="+l)):(b.push("pricemin="+i),b.push("pricemax="+l))),s.length>0&&b.push("categories="+s.join(" ")),b.push("size="+p),b.push("page="+d);var v=_(g,t?"past":"upcoming");return b.length>0?"?"+b.join("&")+(v?"&"+v:""):""},L=function(e){var t=e.searchText,a=void 0===t?null:t,n=e.selectedCategories,r=void 0===n?[]:n,s=e.pageSize,o=void 0===s?20:s,i=e.page,c=void 0===i?0:i,l=e.sorting,u=void 0===l?"":l,p=[];a&&p.push("keyword="+a),r.length>0&&p.push("categories="+r.join(" ")),p.push("size="+o),p.push("page="+c);var m=_(u,"auctions");return p.length>0?"?"+p.join("&")+(m?"&"+m:""):""},P=function(e){var t=e.searchText,a=void 0===t?null:t,n=e.selectedCategories,r=void 0===n?[]:n,s=e.pageSize,o=void 0===s?20:s,i=e.page,c=void 0===i?0:i,l=e.sorting,u=void 0===l?"":l,p=[];a&&p.push("keyword="+a),r.length>0&&p.push("categories="+r.join(" ")),p.push("size="+o),p.push("page="+c);var m=_(u,"other");return p.length>0?"?"+p.join("&")+(m?"&"+m:""):""};function F(){return D.apply(this,arguments)}function D(){return(D=Object(M.a)(C.a.mark((function e(){var t,a,n,r,s,o,c=arguments;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:null,a=c.length>1&&void 0!==c[1]&&c[1],n=c.length>2&&void 0!==c[2]&&c[2],r=T+(n?"/searchlots/inv/past":"/searchlots/inv/upcoming")+(t&&!a?j(t,n):"?".concat((t&&t.searchText?"keyword=".concat(t.searchText,"&"):"")+_("",n?"past":"upcoming"))),s=t?Object(i.a)({},t):{},e.prev=5,e.next=8,O.a.get(r,S);case 8:o=e.sent,s.items=o.data.data,s.count=o.data.count,n||(s.usedCategories=o.data.used_categories),s.success=!0,e.next=20;break;case 15:e.prev=15,e.t0=e.catch(5),console.log("error: ",e.t0),s.success=!1,s.message="string"===typeof e.t0?e.t0:e.t0.hasOwnProperty("response")&&e.t0.response?e.t0.response.data.message:"";case 20:return e.abrupt("return",s);case 21:case"end":return e.stop()}}),e,null,[[5,15]])})))).apply(this,arguments)}function A(){return U.apply(this,arguments)}function U(){return(U=Object(M.a)(C.a.mark((function e(){var t,a,n,r,s,o=arguments;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:null,a=o.length>1&&void 0!==o[1]&&o[1],n="/wp-json/searchlots/inv/auctions"+(t&&!a?L(t):"?".concat((t&&t.searchText?"keyword=".concat(t.searchText,"&"):"")+_("","auctions"))),r=t?Object(i.a)({},t):{},e.prev=4,e.next=7,O.a.get(n,S);case 7:s=e.sent,r.items=s.data.data,r.count=s.data.count,r.usedCategories=s.data.used_categories,r.success=!0,e.next=19;break;case 14:e.prev=14,e.t0=e.catch(4),console.log(e.t0),r.success=!1,r.message="string"===typeof e.t0?e.t0:e.t0.hasOwnProperty("response")&&e.t0.response?e.t0.response.data.message:"";case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e,null,[[4,14]])})))).apply(this,arguments)}function R(){return I.apply(this,arguments)}function I(){return(I=Object(M.a)(C.a.mark((function e(){var t,a,n,r,s,o=arguments;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:null,a=o.length>1&&void 0!==o[1]&&o[1],n="/wp-json/searchlots/inv/search"+(t&&!a?P(t):"?".concat((t&&t.searchText?"keyword=".concat(t.searchText,"&"):"")+_("","other"))),r=t?Object(i.a)({},t):{},e.prev=4,e.next=7,O.a.get(n,S);case 7:s=e.sent,r.items=s.data.data,r.count=s.data.count,r.usedCategories=s.data.used_categories,r.success=!0,e.next=19;break;case 14:e.prev=14,e.t0=e.catch(4),console.log(e.t0),r.success=!1,r.message="string"===typeof e.t0?e.t0:e.t0.hasOwnProperty("response")&&e.t0.response?e.t0.response.data.message:"";case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e,null,[[4,14]])})))).apply(this,arguments)}function W(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(function(){var t=Object(M.a)(C.a.mark((function t(a){var n,r,s;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.currentTab,r=void 0===n?"upcoming":n,s=null,t.t0=r,t.next="upcoming"===t.t0?5:"past"===t.t0?9:"auctions"===t.t0?13:"other"===t.t0?17:21;break;case 5:return t.next=7,F(e);case 7:return s=t.sent,t.abrupt("break",21);case 9:return t.next=11,F(e,!1,!0);case 11:return s=t.sent,t.abrupt("break",21);case 13:return t.next=15,A(e);case 15:return s=t.sent,t.abrupt("break",21);case 17:return t.next=19,R(e);case 19:return s=t.sent,t.abrupt("break",21);case 21:return t.abrupt("return",a({type:"UPDATE_TAB",payload:s}));case 22:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}function B(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"upcoming";return function(){var a=Object(M.a)(C.a.mark((function a(n){var r;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:r=null,0===e.page&&++e.page,a.t0=t,a.next="upcoming"===a.t0?5:"past"===a.t0?9:"auctions"===a.t0?13:"other"===a.t0?17:21;break;case 5:return a.next=7,F(e);case 7:return r=a.sent,a.abrupt("break",21);case 9:return a.next=11,F(e,!1,!0);case 11:return r=a.sent,a.abrupt("break",21);case 13:return a.next=15,A(e);case 15:return r=a.sent,a.abrupt("break",21);case 17:return a.next=19,R(e);case 19:return r=a.sent,a.abrupt("break",21);case 21:return a.abrupt("return",n({type:"LOAD_MORE",payload:r}));case 22:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}function H(){return function(){var e=Object(M.a)(C.a.mark((function e(t){var a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F({});case 2:return a=e.sent,e.abrupt("return",t({type:"INIT_DATA",payload:a}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}var z=a(65),q=a(36),J={availableCategories:[],lotsNew:[],lotsPast:[],auctionsNew:[],postsNew:[],page:0,dataChanged:!1,message:"",searchText:"",currentTab:"upcoming",selectedCategories:[],priceMin:"",priceMax:"",sorting:"",lotsCount:0,pastLotsCount:0,auctionsCount:0,postsCount:0,activeTabCounter:0,lastLotFilters:{categories:[],min:"",max:""},lastPastLotFilters:{min:"",max:""},lastAuctionFilters:{categories:[]},lastPostFilter:{categories:[]}};var G=function(e,t,a,n){a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=t.items,n=void 0===a?[]:a,r=t.count,s=void 0===r?0:r,o=t.success,i=void 0!==o&&o,c=t.pageSize,l=void 0===c?20:c,u=t.message,p=void 0===u?null:u;return(!i||n.length<l)&&(e.page=-1),i?(e.items=n,e.activeTabCounter=s):(e.items=[],e.activeTabCounter=0,p&&(e.message=p)),e}(a,n);var r=n.selectedCategories,s=void 0===r?[]:r,o=n.priceMin,i=void 0===o?"":o,c=n.priceMax,l=void 0===c?"":c;if(a.availableCategories=t.availableCategories,"upcoming"===e||"past"===e){"upcoming"===e&&n.usedCategories&&(a.availableCategories=n.usedCategories);var u=null;a.items.length>0&&(u=a.items.reduce((function(e,t){return e[t.ref]||(e[t.ref]=t),e}),{})),"upcoming"===e?(a.lotsNew=u?Object.values(u):[],a.lotsCount=a.activeTabCounter,a.lotsPast=[],a.auctionsNew=[],a.postsNew=[],a.selectedCategories=s,a.priceMin=i,a.priceMax=l,a.lastLotFilters={categories:s,min:i,max:l}):(a.lotsPast=u?Object.values(u):[],a.pastLotsCount=a.activeTabCounter,a.lotsNew=[],a.auctionsNew=[],a.postsNew=[],a.lastPastLotFilters={min:i,max:l})}else if("auctions"===e){n.usedCategories&&(a.availableCategories=n.usedCategories);var p=null;a.items.length&&(p=a.items.reduce((function(e,t){return e[t.title]||(e[t.title]=t),e}),{})),a.auctionsNew=p?Object.values(p):[],a.auctionsCount=a.activeTabCounter,a.lotsNew=[],a.lotsPast=[],a.postsNew=[],a.lastAuctionFilters={categories:s}}else n.usedCategories&&(a.availableCategories=n.usedCategories),a.postsNew=[],a.items.length&&(a.postsNew=a.items),a.postsCount=a.activeTabCounter,a.lotsNew=[],a.lotsPast=[],a.auctionsNew=[],a.lastPostFilter={categories:s};return a.availableCategories=Object(q.a)(new Set(a.availableCategories)),a},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_DATA":var a=e.currentTab,n=void 0===a?"upcoming":a,r=G(n,e,{},t.payload);return n!==e.currentTab&&(r.searchText="",r.selectedCategories=[],r.priceMin="",r.priceMax=""),Object.assign({},e,r);case"UPDATE_TAB":var s=t.payload,o=s.currentTab,i=void 0===o?"upcoming":o,c=s.selectedCategories,l=void 0===c?[]:c,u=s.priceMin,p=void 0===u?"":u,m=s.priceMax,d=void 0===m?"":m,h=G(i,e,{page:0,currentTab:i},t.payload);return i!==e.currentTab&&(h.selectedCategories=l,h.priceMin=p,h.priceMax=d,h.sorting=""),Object.assign({},e,h);case"UPDATE_FILTERS_NEW":var g=e.currentTab,b=void 0===g?"upcoming":g,v=G(b,e,{page:0},t.payload);return Object.assign({},e,v);case"UPDATE_SORTING":var f=e.currentTab,y=void 0===f?"upcoming":f,w=G(y,e,{page:0,sorting:t.payload.sorting},t.payload);return Object.assign({},e,w);case"UPDATE_SEARCH":var x=e.currentTab,E=void 0===x?"upcoming":x,N=G(E,e,{page:0,searchText:t.payload.searchText},t.payload);return Object.assign({},e,N);case"LOAD_MORE":var C={page:e.page+1},M=t.payload,k=M.items,O=void 0===k?[]:k,T=M.success,S=void 0!==T&&T,_=M.pageSize,j=void 0===_?20:_,L=M.message,P=void 0===L?null:L,F=M.currentTab,D=void 0===F?"upcoming":F;if((!S||O.length<j)&&(C.page=-1),S){switch(D){case"upcoming":C.lotsNew=e.lotsNew&&e.lotsNew.length>0?[].concat(Object(q.a)(e.lotsNew),Object(q.a)(O)):O;var A=C.lotsNew.reduce((function(e,t){return e[t.ref]||(e[t.ref]=t),e}),{});C.lotsNew=A?Object.values(A):[];break;case"past":C.lotsPast=e.lotsPast&&e.lotsPast.length>0?[].concat(Object(q.a)(e.lotsPast),Object(q.a)(O)):O;var U=C.lotsPast.reduce((function(e,t){return e[t.ref]||(e[t.ref]=t),e}),{});C.lotsPast=U?Object.values(U):[];break;case"auctions":C.auctionsNew=e.auctionsNew&&e.auctionsNew.length>0?[].concat(Object(q.a)(e.auctionsNew),Object(q.a)(O)):O;break;case"other":C.postsNew=e.postsNew&&e.postsNew.length>0?[].concat(Object(q.a)(e.postsNew),Object(q.a)(O)):O}delete C.items}else switch(D){case"upcoming":C.lotsNew=e.lotsNew&&e.lotsNew.length>0?e.lotsNew:[],0===C.lotsNew.length&&P&&(C.message=P);break;case"past":C.lotsPast=e.lotsPast&&e.lotsPast.length>0?e.lotsPast:[],0===C.lotsPast.length&&P&&(C.message=P);break;case"auctions":C.auctionsNew=e.auctionsNew&&e.auctionsNew.length>0?e.auctionsNew:[],0===C.auctionsNew.length&&P&&(C.message=P);break;case"other":C.postsNew=e.postsNew&&e.postsNew.length>0?e.postsNew:[],0===C.postsNew.length&&P&&(C.message=P)}return Object.assign({},e,C);case"UPDATE_ALL_FROM_URL":var R=t.payload.currentTab,I=void 0===R?"upcoming":R,W=G(I,e,{page:0},t.payload);return Object.assign({},e,t.payload,W);default:return e}},X=a(209),Y=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||z.c,Z=Object(z.d)(V,Y(Object(z.a)(X.a))),$=function(e){function t(e){var a;Object(c.a)(this,t),a=Object(u.a)(this,Object(p.a)(t).call(this,e));var n=Z.getState();return a.state={loading:!0,page:0,searchText:n.searchText||"",selectedCategories:n.selectedCategories||[],priceMin:n.priceMin||"",priceMax:n.priceMax||"",sorting:n.sorting||""},a._isMounted=!1,a.loadMore=a.loadMore.bind(Object(m.a)(a)),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"loadMore",value:function(e){var t=Z.getState();this.props.loadMore(t,t.currentTab)}},{key:"render",value:function(){var e=[],t=!0;if(this.props.isLoading)for(var a=0;a<4;a++)e.push(r.a.createElement(x,{key:a}));return this.props.lots.length&&!this.props.isLoading?e=this.props.lots.map((function(e){return r.a.createElement(r.a.Fragment,{key:"lot_"+e.ref},r.a.createElement(y,{lot:e,isPast:!1}))})):this.props.isLoading||this.props.message&&(t=!1),t?r.a.createElement("div",{className:"px-0 py-1 px-md-4"},r.a.createElement("div",{className:"row row-spacing"},e),this.props.lots.length&&-1!==this.props.page?r.a.createElement("div",{className:"col-12 text-center"},r.a.createElement("button",{className:"btn btn-load-more mt-3 mb-5",onClick:this.loadMore},"Load More")):""):""}}]),t}(n.Component);var K=Object(E.b)((function(e){return{lots:e.lotsNew||[],message:e.message,page:e.page}}),{loadMore:B})($);var Q=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("header",{className:"mb-2"},r.a.createElement("h2",{className:"subheading text-uppercase"},e.title)))))};a(240);var ee=function(e){var t=Object(n.useState)(!1),a=Object(h.a)(t,2),s=a[0],o=a[1];return Object(n.useEffect)((function(){window.innerWidth<576?o(!0):o(!1)}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"col-12 col-md-6 col-lg-3 pb-4 search-auction-result anim-search-result lot-container"},r.a.createElement(b.a,null,r.a.createElement("a",{href:e.link,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("figure",{className:"text-center imgContainer"},e.imgSrc?r.a.createElement("img",{src:e.imgSrc,alt:"Text",className:"mw-100",width:"260",height:"250"}):r.a.createElement("div",{className:"emptyPhoto"},s?"":r.a.createElement("img",{src:"https://johnmoran.invaluable.com/wp-content/themes/theme-johnmoran/dist/img/moran_grey.png",alt:"LOGO",className:"mw-100",width:"260"})))),r.a.createElement("aside",{className:"search-lot--content py-4 px-4 text-left"},r.a.createElement("a",{href:e.link,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("h3",{className:"font-weight-normal text-grey title",dangerouslySetInnerHTML:{__html:e.articleTitle}})),""!==e.excerpt&&r.a.createElement("p",{className:"m-0",dangerouslySetInnerHTML:{__html:"Excerpt: ".concat(e.excerpt)}})))))},te=function(){return r.a.createElement("div",{className:"col-12 col-md-6 col-lg-4 grid-item search-article-result"},r.a.createElement("div",{className:"ui-placeholder__auctions-wrap"},r.a.createElement("div",{className:"ui fluid placeholder"},r.a.createElement("div",{className:"image header"},r.a.createElement("div",{className:"line"}),r.a.createElement("div",{className:"line"})),r.a.createElement("div",{className:"paragraph"},r.a.createElement("div",{className:"line"}),r.a.createElement("div",{className:"line"}),r.a.createElement("div",{className:"line"})))))},ae=function(e){function t(e){var a;Object(c.a)(this,t),a=Object(u.a)(this,Object(p.a)(t).call(this,e));var n=Z.getState();return a.state={loading:!0,page:0,searchText:n.searchText||"",selectedCategories:n.selectedCategories||[],sorting:n.sorting||""},a._isMounted=!1,a.loadMore=a.loadMore.bind(Object(m.a)(a)),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"loadMore",value:function(e){var t=Z.getState();this.props.loadMore(t,t.currentTab)}},{key:"render",value:function(){var e=[],t=!0;if(this.props.isLoading)for(var a=0;a<4;a++)e.push(r.a.createElement(te,{key:"news_"+a}));return this.props.news.length&&!this.props.isLoading?e=this.props.news.map((function(e,t){return r.a.createElement(ee,{key:"article_"+t,link:e.detailsUrl,excerpt:e.excerpt,articleTitle:e.title,imgSrc:e.photo})})):this.props.isLoading||this.props.message&&(t=!1),t?r.a.createElement("div",null,r.a.createElement(Q,{title:"Articles > Other"}),r.a.createElement("div",{className:"row row-spacing"},e),this.props.news.length&&-1!==this.props.page?r.a.createElement("div",{className:"col-12 text-center"},r.a.createElement("button",{className:"btn btn-load-more mt-3 mb-5",onClick:this.loadMore},"Load More")):""):""}}]),t}(n.Component);var ne=Object(E.b)((function(e){return{news:e.postsNew||[],message:e.message,page:e.page}}),{loadMore:B})(ae),re=a(80),se=a(66),oe=a(210),ie=a.n(oe),ce=(a(262),a(98)),le=(a(263),function(e){function t(e){var a;Object(c.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).categorySelected=function(e){return-1!==a.state.categoriesSaved.indexOf(e.toString())};var n=Z.getState();return a.state={noResult:!0,availableCategories:n.availableCategories,submited:n.loading||!0,isOpen:!1,isMobile:!1,setCategory:[],pricemin:n.priceMin||"",pricemax:n.priceMax||"",categoriesSaved:n.selectedCategories||[],currentTab:n.currentTab||"upcoming",sorting:n.sorting||"",search:n.searchText||""},a._isMounted=!1,a.handleOpenClose=a.handleOpenClose.bind(Object(m.a)(a)),a.handleSetMinMax=a.handleSetMinMax.bind(Object(m.a)(a)),a.handleCheckboxChange=a.handleCheckboxChange.bind(Object(m.a)(a)),a.handleSubmitFilters=a.handleSubmitFilters.bind(Object(m.a)(a)),a.handleSortingSelect=a.handleSortingSelect.bind(Object(m.a)(a)),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"updateUrlParams",value:function(){var e=this,t=this.state,a=t.search,n=void 0===a?"":a,r=t.currentTab,s=t.setCategory,o=void 0===s?[]:s,i=t.pricemin,c=void 0===i?null:i,l=t.pricemax,u=void 0===l?null:l,p=t.sorting,m=void 0===p?null:p,d=Z.getState(),h=d.selectedCategories.filter((function(t){return!e.state.setCategory.includes(t)})).concat(this.state.setCategory.filter((function(e){return!d.selectedCategories.includes(e)})));if(d.currentTab!==r||d.sorting!==m||h.length>0||d.priceMin!==c||d.priceMax!==u){var g=[];if(window.history.pushState){var b=window.location.protocol+"//"+window.location.host+window.location.pathname;r&&g.push("tab="+r),n&&g.push("search="+n),o.length&&g.push("categories="+o.join(",")),c&&g.push("min_price="+c),u&&g.push("max_price="+u),m&&g.push("sort="+m),g.length&&(b+="?"+g.join("&")),window.history.pushState({path:b},"",b),this.props.loadChanges((function(){if(e._isMounted){var t=Z.getState();m!==t.sorting?Z.dispatch(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return(function(){var t=Object(M.a)(C.a.mark((function t(a){var n,r,s;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.currentTab,r=void 0===n?"upcoming":n,s=null,t.t0=r,t.next="upcoming"===t.t0?5:"past"===t.t0?9:"auctions"===t.t0?13:"other"===t.t0?17:21;break;case 5:return t.next=7,F(e);case 7:return s=t.sent,t.abrupt("break",21);case 9:return t.next=11,F(e,!1,!0);case 11:return s=t.sent,t.abrupt("break",21);case 13:return t.next=15,A(e);case 15:return s=t.sent,t.abrupt("break",21);case 17:return t.next=19,R(e);case 19:return s=t.sent,t.abrupt("break",21);case 21:return t.abrupt("return",a({type:"UPDATE_SORTING",payload:s}));case 22:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}(Object.assign(t,{sorting:m}))):Z.dispatch(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"upcoming";return function(){var a=Object(M.a)(C.a.mark((function a(n){var r;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:r=null,a.t0=t,a.next="upcoming"===a.t0?4:"past"===a.t0?8:"auctions"===a.t0?12:"other"===a.t0?16:20;break;case 4:return a.next=6,F(e);case 6:return r=a.sent,a.abrupt("break",20);case 8:return a.next=10,F(e,!1,!0);case 10:return r=a.sent,a.abrupt("break",20);case 12:return a.next=14,A(e);case 14:return r=a.sent,a.abrupt("break",20);case 16:return a.next=18,R(e);case 18:return r=a.sent,a.abrupt("break",20);case 20:return a.abrupt("return",n({type:"UPDATE_FILTERS_NEW",payload:r}));case 21:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(Object.assign(t,{selectedCategories:o,priceMin:c||"",priceMax:u||""}),r))}}))}}}},{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0;var t=this;Z.subscribe((function(){var a=Z.getState(),n=a.availableCategories,r=a.loading,s=a.currentTab,o=a.selectedCategories,i=a.priceMin,c=a.priceMax,l=a.sorting,u=a.searchText,p=a.lotsCount,m=a.pastLotsCount,d=a.auctionsCount,h=a.postsCount,g={currentTab:s,search:u,availableCategories:n,categoriesSaved:o,setCategory:o,pricemin:i,pricemax:c,sorting:l,noResults:!r&&("upcoming"===s&&0===p||"past"===s&&0===m||"auctions"===s&&0===d||"other"===s&&0===h)||r};g.submited=!(!r&&t.state.submited)&&r,e._isMounted&&e.setState(g)})),this._isMounted&&(window.innerWidth<576?this.setState({isMobile:!0}):this.setState({isMobile:!1}))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"handleOpenClose",value:function(e){e.preventDefault(),this._isMounted&&this.setState({isOpen:!this.state.isOpen})}},{key:"handleSetMinMax",value:function(e){var t=e.target,a=t.value,n=t.name;!isNaN(a)&&this._isMounted&&this.setState(Object(ce.a)({},n,a))}},{key:"handleCheckboxChange",value:function(e){var t=e.target;if(this._isMounted){var a=this.state.setCategory,n=Object(q.a)(a);if(t.checked)n.push(t.value.toString());else{var r=a.indexOf(t.value.toString());-1!==r&&n.splice(r,1)}this.setState({setCategory:n,categoriesSaved:n})}}},{key:"handleSubmitFilters",value:function(e){e.preventDefault(),this._isMounted&&this.updateUrlParams()}},{key:"handleSortingSelect",value:function(e){var t=this;this.setState({sorting:e.target.value},(function(){t._isMounted&&t.updateUrlParams()}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.noResults,n=t.availableCategories,s=t.currentTab,o=t.pricemin,i=t.pricemax,c=t.sorting,l=t.isOpen,u={upcoming:[{label:"Next Sale Date",value:"date||asc"},{label:"Estimate - Low to High",value:"price||asc"},{label:"Estimate - High to Low",value:"price||desc"}],past:[{label:"Past Sale Date",value:"date||desc"},{label:"Sold Price - Low to High",value:"price||asc"},{label:"Sold Price - High to Low",value:"price||desc"}],auctions:[{label:"Date",value:"date||asc"},{label:"Title",value:"title||asc"}],other:[{label:"Recent",value:"date||desc"},{label:"Title",value:"title||asc"}]}[s];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"pt-4 search-filter"},r.a.createElement("div",{className:"d-flex justify-content-center justify-content-sm-between align-items-end"},r.a.createElement("button",{className:"py-2 px-4 text-uppercase font-weight-extra-bold",onClick:this.handleOpenClose},"Filter ",r.a.createElement(re.a,{className:"ml-3",icon:l?se.c:se.a})),r.a.createElement("select",{onChange:this.handleSortingSelect,value:c},r.a.createElement("option",{value:"",disabled:!0},"Sort by"),u.map((function(e){return r.a.createElement("option",{key:e.value,value:e.value},e.label)})))),l&&r.a.createElement("div",{className:"col-12 pt-4 px-0 d-flex justify-content-center justify-content-md-between flex-wrap filter-container"},("upcoming"===s||"past"===s)&&r.a.createElement("div",{className:"col-12 col-md-3 col-lg-2 pb-3 pb-md-0 px-md-0"},r.a.createElement("input",{type:"text",placeholder:"Min price",value:o,onChange:this.handleSetMinMax,name:"pricemin",className:"col-12 mb-2 py-1 px-3"}),r.a.createElement("input",{type:"text",placeholder:"Max price",value:i,onChange:this.handleSetMinMax,name:"pricemax",className:"col-12 py-1 px-3"})),r.a.createElement("div",{className:"col-12 col-md-9 d-flex flex-wrap"},"past"!==s&&!a&&n.map((function(t){return r.a.createElement("div",{className:"ui checkbox col-12 col-lg-4 col-md-6 pb-2",key:"category_"+t.id},r.a.createElement("input",{type:"checkbox",id:"category_"+t.id,checked:e.categorySelected(t.id),value:t.id,onChange:e.handleCheckboxChange}),r.a.createElement("label",{htmlFor:"category_"+t.id,dangerouslySetInnerHTML:{__html:t.name}}))}))),r.a.createElement("div",{className:"col-12 d-flex justify-content-center p-3"},r.a.createElement("button",{type:"submit",className:"py-2 px-4 text-uppercase font-weight-extra-bold",onClick:this.handleSubmitFilters},"Apply filters ",r.a.createElement(re.a,{className:"ml-3",icon:se.b}))))))}}]),t}(n.Component));var ue=Object(E.b)((function(e){return{availableCategories:e.availableCategories}}),{})(le),pe=function(e){function t(e){var a;Object(c.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).handleSearchSubmit=function(e){e.preventDefault();var t=a.state,n=t.currentTab,r=t.query,s=t.sorting,o=t.categories,i=t.pricemin,c=t.pricemax,l=Z.getState();if(l.currentTab!==n||l.searchText!==r||l.sorting!==s||l.priceMin!==i||l.priceMax!==c){if(window.history.pushState){var u=window.location.protocol+"//"+window.location.host+window.location.pathname,p=[];n&&p.push("tab="+n),r&&p.push("search="+r),o.length&&p.push("categories="+o.join(",")),i&&p.push("min_price="+i),c&&p.push("max_price="+c),s&&p.push("sort="+s),p.length&&(u+="?"+p.join("&")),window.history.pushState({path:u},"",u)}a.props.loadChanges((function(){a._isMounted&&Z.dispatch(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return(function(){var t=Object(M.a)(C.a.mark((function t(a){var n,r,s;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.currentTab,r=void 0===n?"upcoming":n,s=null,t.t0=r,t.next="upcoming"===t.t0?5:"past"===t.t0?9:"auctions"===t.t0?13:"other"===t.t0?17:21;break;case 5:return t.next=7,F(e);case 7:return s=t.sent,t.abrupt("break",21);case 9:return t.next=11,F(e,!1,!0);case 11:return s=t.sent,t.abrupt("break",21);case 13:return t.next=15,A(e);case 15:return s=t.sent,t.abrupt("break",21);case 17:return t.next=19,R(e);case 19:return s=t.sent,t.abrupt("break",21);case 21:return t.abrupt("return",a({type:"UPDATE_SEARCH",payload:s}));case 22:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}(Object.assign(Z.getState(),{searchText:r})))}))}},a.showSearchFilters=function(e){document.getElementById("menu_search_form_btn").classList.add("open")};var n=Z.getState();return a.loadingsAfterMount=0,a.state={searchFiltersActive:!0,query:"",submited:!1,count:1,currentTab:a.props.openTabs||n.currentTab||"upcoming",sorting:n.sorting||"",categories:n.selectedCategories||[],pricemin:n.priceMin||"",pricemax:n.priceMax||"",lotsCount:n.lotsCount||0,pastLotsCount:n.pastLotsCount||0,auctionsCount:n.auctionsCount||0,postsCount:n.postsCount||0},a._isMounted=!1,a.delay=0,a.handleSearchSubmit=a.handleSearchSubmit.bind(Object(m.a)(a)),a.showSearchFilters=a.showSearchFilters.bind(Object(m.a)(a)),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"toggleFilter",value:function(e){var t=document.getElementById("searchBox");t&&t.classList.contains("show")?(e.classList.remove("open"),e.querySelector("#to_open").style.display="block"):(e.classList.add("open"),e.querySelector("#to_open").style.display="none")}},{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0;var t=document.getElementById("menu_search_form_btn");t&&(t.querySelector("#to_open").style.display="none",t.addEventListener("click",(function(a){return e.toggleFilter(t)})));var a=this;Z.subscribe((function(){if(a._isMounted){var t=Z.getState(),n=t.searchText,r=t.sorting,s=t.loading,o=t.currentTab,i=t.selectedCategories,c=t.priceMin,l=t.priceMax,u=t.lotsCount,p=t.pastLotsCount,m=t.auctionsCount,d=t.postsCount;a._isMounted&&a.loadingsAfterMount<2&&++a.loadingsAfterMount;var h={query:n,currentTab:2!==a.loadingsAfterMount&&a.props.openTabs||o,sorting:r,categories:i,pricemin:c,pricemax:l,lotsCount:u,pastLotsCount:p,auctionsCount:m,postsCount:d};!s&&a.state.submited&&(h.submited=!1),e.setState(h)}}))}},{key:"componentWillUnmount",value:function(){var e=this;this._isMounted=!1;var t=document.getElementById("menu_search_form_btn");t&&t.removeEventListener("click",(function(a){return e.toggleFilter(t)}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.currentTab,n=t.lotsCount,s=t.pastLotsCount,o=t.auctionsCount,i=t.postsCount;return r.a.createElement(r.a.Fragment,null,this.props.isLoading?r.a.createElement("div",{className:"preloader-blur"},r.a.createElement(ie.a,{type:"ThreeDots",color:"#8C2828",height:50,width:50,timeout:1e5})):"",r.a.createElement("div",{className:"collapse h-site-search--search-wrap show",id:"searchBox"}," ",r.a.createElement("section",{className:"searchBox h-site-search--search p-0 pt-4 px-md-4 pt-md-5"},r.a.createElement("form",{action:"/",className:"h-site-search--form"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"column justify-content-center"},r.a.createElement("div",{className:"mx-auto pb-5 col-12 col-md-6 col-lg-6 col-xl-4 form-group form-item h-form-group h-form-item d-flex flex-column flex-lg-row align-items-lg-center"},r.a.createElement("div",{className:"ui icon input"},r.a.createElement("label",{htmlFor:"search",className:"sr-only"},"Search Auctions/Lots"),r.a.createElement("input",{type:"text",id:"search",className:"form-control h-form-control",placeholder:"Enter the terms you wish to search for",value:this.state.query,onChange:function(t){return e.setState({query:t.target.value})}}),r.a.createElement("button",{type:"submit",className:"position-relative w-25",onClick:this.handleSearchSubmit},r.a.createElement(re.a,{icon:se.d,size:"sm"})))),r.a.createElement("div",{className:"tabs mx-auto col-12 d-flex justify-content-center"},r.a.createElement("button",{className:"text-uppercase py-2 px-lg-5 mr-md-3 mr-2 px-md-2"+("upcoming"===a?" active":""),name:"upcoming",onClick:this.props.handleTabSelect},"Upcoming ",n&&"upcoming"===a&&"(".concat(n,")")||""," "),r.a.createElement("button",{className:"text-uppercase py-2 px-lg-5 mr-md-3 mr-2 px-md-2"+("past"===a?" active":""),name:"past",onClick:this.props.handleTabSelect},"Past ",s&&"past"===a&&"(".concat(s,")")||""," "),r.a.createElement("button",{className:"text-uppercase py-2 px-lg-5 mr-md-3 mr-2 px-md-2"+("auctions"===a?" active":""),name:"auctions",onClick:this.props.handleTabSelect},"Auctions ",o&&"auctions"===a&&"(".concat(o,")")||""," "),r.a.createElement("button",{className:"text-uppercase py-2 px-lg-5 mr-md-3 mr-2 px-md-2"+("other"===a?" active":""),name:"other",onClick:this.props.handleTabSelect},"Other ",i&&"other"===a&&"(".concat(i,")")||""," ")),r.a.createElement(ue,{loadChanges:this.props.loadChanges})))))))}}]),t}(n.Component);a(264);var me=function(e){var t=e.handleTabSelect,a=e.isLoading,n=e.loadChanges,s=e.openTabs;return r.a.createElement("div",null,r.a.createElement(pe,{handleTabSelect:t,isLoading:a,loadChanges:n,openTabs:s}))},de=(a(265),a(266),function(e){function t(e){var a;Object(c.a)(this,t),a=Object(u.a)(this,Object(p.a)(t).call(this,e));var n=Z.getState();return a.state={loading:!0,page:0,searchText:n.searchText||"",selectedCategories:n.selectedCategories||[],priceMin:n.priceMin||"",priceMax:n.priceMax||"",sorting:n.sorting||""},a._isMounted=!1,a.loadMore=a.loadMore.bind(Object(m.a)(a)),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"loadMore",value:function(e){var t=Z.getState();this.props.loadMore(t,t.currentTab)}},{key:"render",value:function(){var e=[],t=!0;if(this.props.isLoading)for(var a=0;a<4;a++)e.push(r.a.createElement(x,{key:a}));return this.props.pastLots.length&&!this.props.isLoading?e=this.props.pastLots.map((function(e){return r.a.createElement(r.a.Fragment,{key:"past_lot_"+e.ref},r.a.createElement(y,{lot:e,isPast:!0}))})):this.props.isLoading||this.props.message&&(t=!1),t?r.a.createElement("div",null,r.a.createElement(Q,{title:"Past Lots"}),r.a.createElement("div",{className:"row row-spacing"},e),this.props.pastLots.length&&-1!==this.props.page?r.a.createElement("div",{className:"col-12 text-center"},r.a.createElement("button",{className:"btn btn-load-more mt-3 mb-5",onClick:this.loadMore},"Load More")):""):""}}]),t}(n.Component));var he=Object(E.b)((function(e){return{pastLots:e.lotsPast||[],message:e.message,page:e.page}}),{loadMore:B})(de),ge=(a(267),["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]),be=["January","February","March","April","May","June","July","August","September","October","November","December"];var ve=function(e){var t,a=new Date(1e3*e.datetime),s="".concat(ge[(t=a).getDay()],", ").concat(be[t.getMonth()]," ").concat(t.getDate(),", ").concat(t.getFullYear()),o=a.toLocaleTimeString("en-US"),i=Object(n.useState)(!1),c=Object(h.a)(i,2),l=c[0],u=c[1];Object(n.useEffect)((function(){window.innerWidth<576?u(!0):u(!1)}),[]);var p=e.location,m=p.city+(p.state?", "+p.state:"");return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"col-12 col-md-6 col-lg-3 pb-4 search-auction-result anim-search-result lot-container"},r.a.createElement(b.a,null,r.a.createElement("a",{href:e.link,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("figure",{className:"text-center imgContainer"},e.imgSrc?r.a.createElement("img",{src:e.imgSrc,alt:"Text",className:"mw-100",width:"260",height:"250"}):r.a.createElement("div",{className:"emptyPhoto"},l?"":r.a.createElement("img",{src:"https://johnmoran.invaluable.com/wp-content/themes/theme-johnmoran/dist/img/moran_grey.png",alt:"LOGO",className:"mw-100",width:"260"})))),r.a.createElement("aside",{className:"search-lot--content py-4 px-4 text-left"},r.a.createElement("a",{href:e.link,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("h3",{className:"font-weight-normal text-grey title",dangerouslySetInnerHTML:{__html:e.title}}),e.title&&r.a.createElement("h4",{className:"my-3 font-weight-normal subtitle"},r.a.createElement("u",{dangerouslySetInnerHTML:{__html:m}}))),""!==s&&r.a.createElement("p",{className:"m-0"},s),""!==o&&r.a.createElement("p",{className:"m-0"},o)))))},fe=function(){return r.a.createElement("div",{className:"col-12 col-lg-6 mt-3 search-auction-result"},r.a.createElement("div",{className:"ui-placeholder__auctions-wrap"},r.a.createElement("div",{className:"ui fluid placeholder"},r.a.createElement("div",{className:"image header"},r.a.createElement("div",{className:"line"}),r.a.createElement("div",{className:"line"})),r.a.createElement("div",{className:"paragraph"},r.a.createElement("div",{className:"line"}),r.a.createElement("div",{className:"line"}),r.a.createElement("div",{className:"line"})))))},ye=function(e){function t(e){var a;Object(c.a)(this,t),a=Object(u.a)(this,Object(p.a)(t).call(this,e));var n=Z.getState();return a.state={loading:!0,page:0,searchText:n.searchText||"",selectedCategories:n.selectedCategories||[],sorting:n.sorting||""},a._isMounted=!1,a.loadMore=a.loadMore.bind(Object(m.a)(a)),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"loadMore",value:function(e){var t=Z.getState();this.props.loadMore(t,t.currentTab)}},{key:"render",value:function(){var e=[];if(this.props.isLoading)for(var t=0;t<4;t++)e.push(r.a.createElement(fe,{key:"auction_"+t}));return this.props.auctions.length&&!this.props.isLoading?e=this.props.auctions.map((function(e,t){return r.a.createElement(ve,{key:"auction_"+t,auctionId:e.id,location:e.location,link:e.permalink,title:e.title,datetime:e.date,imgSrc:e.photo})})):this.props.isLoading||this.props.message&&(e=r.a.createElement("p",{className:"error-message"},this.props.message)),r.a.createElement("div",null,r.a.createElement(Q,{title:"Auctions"}),r.a.createElement("div",{className:"row row-spacing"},e),-1!==this.props.page?r.a.createElement("div",{className:"col-12 text-center"},r.a.createElement("button",{className:"btn btn-load-more mt-3 mb-5",onClick:this.loadMore},"Load More")):"")}}]),t}(n.Component);var we=Object(E.b)((function(e){return{auctions:e.auctionsNew||[],message:e.message,page:e.page}}),{loadMore:B})(ye);window.store=Z,window.loadMore=B,window.updateTab=W,window.initData=H;var xe=function(e){function t(e){var a;Object(c.a)(this,t);var n=(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).parseUrl();return a.state={loading:!0,noResults:!1,openTabs:n.tab||"upcoming"},a.handleTabSelect=a.handleTabSelect.bind(Object(m.a)(a)),a.applyChangesLoading=a.applyChangesLoading.bind(Object(m.a)(a)),a._isMounted=!1,a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"parseUrl",value:function(){var e=window.location.search;if(!e)return{};var t=e.substr(1),a={};return t.split("&").forEach((function(e){var t=e.split("=");a[t[0]]=decodeURIComponent(t[1])})),a}},{key:"getFiltersFromUrlParams",value:function(e){var t=this;e||(e=this.parseUrl());var a=e,n=a.tab,r=void 0===n?"upcoming":n,s=a.search,o=void 0===s?"":s,i=a.categories,c=void 0===i?null:i,l=a.min_price,u=void 0===l?"":l,p=a.max_price,m=void 0===p?"":p,d=a.sort,h=void 0===d?"":d,g={selectedCategories:c?c.split(","):[],priceMin:u,priceMax:m};this.state.currentTab!==r&&(g.currentTab=r),this.state.search!==o&&(g.searchText=o),this.state.sorting!==h&&(g.sorting=h),this._isMounted&&this.setState({loading:!0},(function(){t._isMounted&&Z.dispatch(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return(function(){var t=Object(M.a)(C.a.mark((function t(a){var n,r,s;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.currentTab,r=void 0===n?"upcoming":n,s=null,t.t0=r,t.next="upcoming"===t.t0?5:"past"===t.t0?9:"auctions"===t.t0?13:"other"===t.t0?17:21;break;case 5:return t.next=7,F(e);case 7:return s=t.sent,t.abrupt("break",21);case 9:return t.next=11,F(e,!1,!0);case 11:return s=t.sent,t.abrupt("break",21);case 13:return t.next=15,A(e);case 15:return s=t.sent,t.abrupt("break",21);case 17:return t.next=19,R(e);case 19:return s=t.sent,t.abrupt("break",21);case 21:return t.abrupt("return",a({type:"UPDATE_ALL_FROM_URL",payload:s}));case 22:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}(Object.assign(Z.getState(),g)))}))}},{key:"updateUrlParams",value:function(){var e=this.state.openTabs,t=void 0===e?"upcoming":e,a=Z.getState(),n=a.currentTab,r=void 0===n?"upcoming":n,s=a.searchText,o=void 0===s?"":s,c=a.lastLotFilters,l=void 0===c?null:c,u=a.lastPastLotFilters,p=void 0===u?null:u,m=a.lastAuctionFilters,d=void 0===m?null:m,h=a.lastPostFilter,g=void 0===h?null:h;if(t!==r){var b=null;switch(t){case"upcoming":b=l;break;case"past":b=p;break;case"auctions":b=d;break;case"other":b=g}var v={selectedCategories:b.hasOwnProperty("categories")&&b.categories.length?b.categories:[],priceMin:b.hasOwnProperty("min")&&""!==b.min?b.min:"",priceMax:b.hasOwnProperty("max")&&""!==b.max?b.max:""};if(window.history.pushState){var f=window.location.protocol+"//"+window.location.host+window.location.pathname,y=[];t&&y.push("tab="+t),o&&y.push("search="+o),v.selectedCategories.length&&y.push("categories="+v.selectedCategories.join(",")),""!==v.priceMin&&y.push("min_price="+v.priceMin),""!==v.priceMax&&y.push("max_price="+v.priceMax),y.length&&(f+="?"+y.join("&")),window.history.pushState({path:f},"",f)}Z.dispatch(W(Object(i.a)({currentTab:t,searchText:o},v)))}}},{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0;var t=this.parseUrl();Object.keys(t).length>0?this.getFiltersFromUrlParams(t):Z.dispatch(H()),this.setState({openTabs:this.state.openTabs||"upcoming"}),Z.subscribe((function(){if(e._isMounted){var t=Z.getState(),a=t.currentTab,n=t.lotsCount,r=void 0===n?0:n,s=t.pastLotsCount,o=void 0===s?0:s,i=t.auctionsCount,c=void 0===i?0:i,l=t.postsCount,u=void 0===l?0:l,p=t.message,m=void 0===p?"":p;e.setState({loading:!1,noResults:""!==m&&("upcoming"===a&&0===r||"past"===a&&0===o||"auctions"===a&&0===c||"other"===a&&0===u),openTabs:a})}})),window.addEventListener("popstate",(function(t){e._isMounted&&!e.state.loading&&e.getFiltersFromUrlParams()}))}},{key:"componentWillUnmount",value:function(){var e=this;this._isMounted=!1,window.removeEventListener("popstate",(function(){e._isMounted&&!e.state.loading&&e.getFiltersFromUrlParams()}))}},{key:"handleTabSelect",value:function(e){var t=this;e.preventDefault(),e.target.name!==this.state.openTabs&&this.setState({openTabs:e.target.name,loading:!0},(function(){t._isMounted&&t.updateUrlParams()}))}},{key:"applyChangesLoading",value:function(e){var t=this;this.setState({loading:!0},(function(){t._isMounted&&e()}))}},{key:"switchTabRenderer",value:function(){var e=this.state,t=e.openTabs,a=void 0===t?"upcoming":t,n=e.loading,s=void 0!==n&&n;switch(a){case"upcoming":return r.a.createElement(K,{isLoading:s});case"past":return r.a.createElement(he,{isLoading:s});case"auctions":return r.a.createElement(we,{isLoading:s});case"other":return r.a.createElement(ne,{isLoading:s});default:return""}}},{key:"render",value:function(){var e=this.state,t=e.noResults,a=e.loading,n=e.openTabs;return r.a.createElement("div",{className:"App"},r.a.createElement(E.a,{store:Z},r.a.createElement(me,{handleTabSelect:this.handleTabSelect,isLoading:a,loadChanges:this.applyChangesLoading,openTabs:n}),r.a.createElement("main",{className:"main-content"},r.a.createElement("section",{className:"section"},r.a.createElement("div",{className:"container"},t?r.a.createElement("p",{className:"error-message"},"No results"):this.switchTabRenderer())))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(268),a(277),a(466),a(467);o.a.render(r.a.createElement(xe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[211,1,2]]]);
//# sourceMappingURL=main.9209e9d6.chunk.js.map